import{_ as e,c as o,o as a,a as i}from"./app.f-PJ9QlJ.js";const f=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"notion/socket.md","filePath":"notion/socket.md","lastUpdated":1753943052000}'),l={name:"notion/socket.md"};function r(n,t,c,s,d,_){return a(),o("div",null,t[0]||(t[0]=[i('<h2 id="问题" tabindex="-1">问题： <a class="header-anchor" href="#问题" aria-label="Permalink to &quot;问题：&quot;">​</a></h2><ol><li>发送心跳定时器存在一定的bug，页面处于后台的时候，定时器会走的越来越慢</li><li>通过监听onclose()存在失效的情况</li><li>使用定时器缺陷，页面失活一段时间定时器变惰性</li><li>websocket中存在控制帧opcode这个概念。基于opcode实现心跳检测 <ul><li>TEXT -&gt; 1</li><li>BINARY -&gt; 2</li><li>CLOSE -&gt; 8</li><li>PING -&gt; 9</li><li>PONG -&gt; 10</li></ul></li></ol><p>ping-pong: <a href="https://datatracker.ietf.org/doc/html/rfc6455#section-5.5.2" target="_blank" rel="noreferrer">https://datatracker.ietf.org/doc/html/rfc6455#section-5.5.2</a></p>',3)]))}const g=e(l,[["render",r]]);export{f as __pageData,g as default};
