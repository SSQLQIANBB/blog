
06.05-06.09 

- 数据大盘概览新增拖动；维度、筛选条件操作调整；看板切换数据loading优化；
- 了解状态流需求，梳理功能；
- 平台、租户模版中状态配置页面；

06.12-06.16

- 状态流配置前端页面以及组件；
- 接口联调；

06.19-06.21

- 接口联调；
- 工单接入状态流；

状态列表权限：

- page/btn
    - status-list-sys（平台)
        - 新建： status*client*create
        - 编辑： status*client*edit
        - 删除： status*client*del
    - status-list（租户）
        - 新建： status*tenant*create
        - 编辑： status*tenant*edit
        - 删除： status*tenant*edit
- 模版配置新建无法配置工作流
- 添加状态：获取可选状态数据根据tag查询状态列表(全局状态 + 租户状态)
- 编辑动作，字段来源
- 操作权限指定执行人项目角色，租户层是否可以获取
- 需求状态更改，需后端提供接口根据目标状态反向查询关联动作（以及动作下的配置项字段）；—waiting
- 工作流配置关联项目模版、模版中需求、测试计划等

工单管理，验证内容不配置


### 工程配置&详情 获取令牌统一

1. 需求、缺陷、迭代等添加工作流(滞后)
2. 添加后置动作
3. 二次确认弹窗
4. 状态排序
5. 主应用重定向
6. 样式调整

### 后置动作待办事项

1. 对象状态文案提示
2. 验证关联对象所关联的对象提示文案
3. **权限设置setting-sys - workflow-api - workflow***_**api***_**edit**

2023.07.11-202307.21


Mon

1. 排序接口联调
2. 二次确认接口联调
3. 工作流二次确认功能对接
4. 添加状态接口调整

Tue

1. 登录重定向
2. 测试用例关联接口重命名—新增功能
3. 测试阶段关联用例根据优先级筛选—新增功能

wed

1. 测试计划编辑后跳转优化
2. 工作流接口配置接口联调
3. 数据大盘查询项目接口调整
4. 开发-接口-运行时，新增两个请求参数、添加请求头
5. **数据大盘,图表统计,总计和百分比目前根据所要的项目统计错误**

Thu

- 测试阶段详情样式优化
- 数据大盘详情名称显示bug
- 数据大盘数字截取bug
- 测试报告按钮显示bug

—护网—


Fri

- 计划关联用例

—护网—


### 待办

- 未选择项目会跳转项目内403
- 403 404页面跳转优化
- 权限操作优化
- 测试阶段样式优化
- chart代码优化

![Untitled.png](/notion/images/0a98dd6049bc54fc2ed46f2cd0983e42.png)


![Untitled.png](/notion/images/a552eb6275e4edd3d8a0c5e50d584811.png)


![Untitled.png](/notion/images/1d561c8920d649d8e1a1d9cc886634fa.png)


07.24

- 关联用例选择全选逻辑调整
- 面包屑项目列表图片优化
- 子应用工单用户组件更新
- 表格样式更新后工单工作流配置页面样式bug
- 测试计划说明调整

07.25

- 测试阶段执行
- 测试报告回退bug
- 测试用例导入接口新增接口详细信息
- 测试报告新建高亮bug
- 关联用例回退bug\
- 批量用例执行样式调整
- 用例详情样式滚动bug

07.26

- 账号列表加载loading不显示bug
- 账号下线提示undefined `fixbug#5250`

07.27

- 数据图表雷达图基准
- 选择看板模版、指标卡模版获取数据
- 指标卡配置数据看板指标名称长度调整20

07.28

- 测试报告接口、页面调整
- 后置动作（状态联动变更）

字段添加“评论”


区分：字段选择 项目内调用接口


开发（工程、环境、接口）支持筛选

- 筛选条件同全局搜索
- 已选筛选条件在search下拉框中高亮回显
- 已选筛选条件表头上方显示
- sider常用查询
- search下拉框筛选条件显隐设置
- 详情到列表回退筛选条件回显以及根据筛选条件加载列表

工作流配置

- 后置动作
- 验证内容调整  默认值设置类似后置动作字段选择
- 人员角色选择
- 租户层模版工作流配置、项目层模版配置（接口调用不同，内置字段【指派人、所属模块、关联迭代等调用接口】）

切换主题


```javascript
gitee/ruoyi: 登录后可切换主题，并将主题配置保存于服务端
```

- 

![Untitled.png](/notion/images/e5c1f0c3c001d8ab9b5b221721b5eded.png)


平台层支持新建自定义角色


### window['$dialog'].warning删除确认弹窗影响table组件中datePicker


### 工作流配置（租户，项目，工单）、开发（工程、环境、接口）工作日-5d

- 对接人员角色  — 50%
- 项目内功能工作流接口对接  — 50%
- 特殊字段接口调用（项目层）— finish
- 里程碑、迭代、需求、任务、缺陷、转测单、测试计划、测试阶段、阶段用例（所有支持配置工作流的工作项）调试 — 30%
- 后置动作、验证内容调试 — 70%
- 开发新增筛选 — 100%
- 平台层新建角色 — 100%

| 功能                                             | 进度   |
| ---------------------------------------------- | ---- |
| 对接人员角色                                         | 70%  |
| 特殊字段接口调用（项目层）                                  | 100% |
| 里程碑、迭代、需求、任务、缺陷、转测单、测试计划、测试阶段（所有支持配置工作流的工作项）调试 | 100% |
| 后置动作、验证内容调试                                    | 100% |
| 开发新增筛选                                         | 100% |
| 平台层新建角色                                        | 100% |


工单工作流对接组织


开发(工程、环境、接口)筛选用例：


工作流用例


### **开发添加筛选项**


### 项目组 工作日-5d

- 项目子节点树形目录
- 项目移动（切换项目所属子节点）
- 批量项目添加人员
- 接口联调

### 项目组功能

- 目录树—100%
- 重命名、添加目录、删除子节点—100%
- 添加人员—70%
- 拖拽功能—30%
- 接口联调—0%

### 数据大盘查看明细前端功能已完成 等接口


知识库：/teamSpaceApp/knowledgeDetail （知识库id） 


知识库-文档：/teamSpaceApp/knowledgeDetail (知识库id + 文档id + 文档类型)  **// 缺少参数**


项目：/projectApp/projectInform  


里程碑：/projectApp/milestoneDetail


迭代：/projectApp/iterationDetail


需求：/projectApp/requireDetail


任务：/projectApp/taskDetail


缺陷：/projectApp/defectDetail


用例：/projectApp/caseDetail


测试报告：/projectApp/planReport （测试计划id + 测试报告id）**// 缺少参数**


工程：/projectApp/engineeringDetail


作业：/projectApp/jobDetail


作业实例：/projectApp/executionDetail


制品：—暂无—


告警记录：/projectApp/recordDetail


资源：/projectApp/configTen/resourceCert/cmdbDetail


资源实例：/projectApp/configTen/resourceCert/cmdbInstanceDetail (凭证id+实例id) **// 缺少参数**


### 状态添加颜色


### 批量建任务


### 任务、缺陷等复制


todo*_list*copy 待办复制_


require*_list*copy_ 需求复制


task*_list*_edit 任务复制


需求复制新建后 ctrl + s 保存


### 状态颜色设置


### **角色查询接口调整**。**in_base 原型数据**  **in_embed 区分内置自定义角色**


## 备注： 平台角色 - 新增按钮标识 【role*_client*_create】 新建角色


项目组全局搜索筛选项 — p


工作流验证内容—协作者字段设置下拉筛选 — 1


租户层工作流设置内置角色 —1


批量建任务—协作者字段 — 1


**租户工作流、项目功能工作流路由权限配置——默认有权限**


转测单人员选择，角色code调整 — 1


工单人员组件 — 1


工作流配置验证内容默认值列移除


业务回显 tag 添加工作流tag — 1


项目组权限


添加 project*group*add


重命名 project*group*rename


删除 project*group*del


添加人员 project*group*perso


二次确认弹窗


数据大盘详情时间列


人员控件支持模糊搜索


---


项目组添加人员 获取项目组全部项目 `project*`_`group*`_`all`  —  待测


项目组添加人员接口需要调整 — 易烨


数据大盘 — 显示全部数据 —


项目模版配置发布测试环境


后置动作获取状态添加租户ID


批量添加判断字段：添加boolean


环境配置工程—接口参数错误
工作流删除无数据提示


使用element-ui搭建组件，打包问题


多个包打包以及发布问题


### 动态表单

- vue版本问题
- 使用方式
    - npm install 业务文件包（lib包）直接template渲染表单
    - npm install 表单引擎包，传入json渲染；
- PC、移动端布局自适应以及UI库
- 发布
    - 组件库——一库多包
    - 表单设计器（表单引擎）插件包
    - 根据json生成业务表单文件包
    bi

**表单设计器**

- 组件列表
- 表单设计容器
    - 布局
    - 定位
    - 拖拽生成json
    - 根据json生成表单
    - 根据json生成代码
    - 根据json获取依赖组件
- 组件配置项
    - 配置项json
    - 根据json动态渲染

**组件库（elementplus）**

- 组件
- 组件配置项
- 组件发布

import { Button, config }  from ‘@starsys../button’


import UI  from ‘@starsys../ui’


import Elem from ‘elementui’


组件打包问题：

- 单独打包 单独引用 `import { Button, config }  from ‘@starsys/button’`
- 整体打包 按需引用 `import UI from ‘@starsys/ui’`

JSONPath 提取参数


vue.use(elementUI);


2023.09.22 — 2023.10.13 

- 组件封装
    - 输入框（组件、属性配置项）
    - 下拉框（组件、属性配置项）
- 表单设计器
    - 左侧组件列表完成
    - 右侧根据json动态加载配置项完成
- 组件库输出（打包）结构调整

2023.10.16 - 2023.10.27

- 控件
    - 开关、下拉选择、选择框、日期、日期范围、时间、时间范围组件
- 表单设计器
    - 根据拖拽生成表单、以及（开关、下拉选择、选择框、日期、日期范围、时间、时间范围组件、输入框）子控件配置项
    - 表单样式布局

2023.10.30 - 2023.11.10

- 控件
    - [ ] 图片、附件以及高级组件
    - [ ] _下拉选择、选择框的选项配置_
- 表单设计器
    - 样式布局
    - 预览
    - 表单设置
    - 权限设置(—移除—)

2023.11.13 - 2023.11.24

- 表单列表
    - 设计、配置、使用、删除等操作
    - 新建表单
- 组件库
    - 新建组件
    - 编辑组件
    - 导入分类
    - 查看组件
- 函数库
- 模型库
- 接口库

11.06 - 11.10


    图片、附件、标题、描述、布局控件完成


    控件、表单事件数据结构设计


    样式布局主题、字体等切换


    预览


    表单设置页面完成


11.13 - 11.17


    控件和表单事件


    表格控件完成


    默认值配置完成（接口、表单、表达式）


    条件联动设置完成


单个控件样式设置


## 报工 — 9月


通过worker加载组件


2023.10.23工作统计

- 输入框组件、下拉框组件 — 100%
- 左侧组件列表渲染 未联调接口 — 90%
- 右侧配置项
    - 基础配置 — 80%
    - 条件配置 — 80%

下拉组件配置项联动


    api接口


    模型字段


    自定义


组件条件设置数据模型


**主题配置、字体库、图标库**


表单联动配置项数据模型


图标动态加载方式


npm包运行时动态加载


联动显隐问题


左侧


field拖入加载新组件


中间


根据拖入组件类型加载具体组件  - 组件prop/label/ - 生成表单model(formData) - 生成表单属性formConfig


右侧


根据拖入字段渲染对应组件的配置项 - 中间传入formConfig对应配置项的model(formData)






设计器组件点击或拖拽添加组件已完成；


根据选中组件加载配置项已完成；


下拉框、输入框、开关、选择框控件以及配置项已完成；


布局待调整；


日期、时间组件封装完成，配置项待完善；


**10.20 数字单位移除**


10.23 条件、验证内容


formItem — widget-config — 右侧配置项 


{
"relation": "and",
"conditions": [
{
"compare": "=",
"type": "item",
"compareLeft": "a",
"compareRight": "1"
},
{
"relation": "or",
"type": "group",
"conditions": [
{
"compare": "=",
"type": "item",
"compareLeft": "b",
"compareRight": "2"
},
{
"compare": "=",
"type": "item",
"compareLeft": "c",
"compareRight": "3"
}
]
}
]
}将此数据转换为描述：a = 1且（b = 2 或 c = 3）


修改控件prop，defaultValue值不变


    form: {
         [dynamic-key]: defaultValue
    }


    10.26会议功能记录


    待完成 数字、日期&时间的范围、计数器控件、按钮、表格、标题、描述


    **下拉选择options配置**


    联动配置：字段对应值，移除默认值配置， 添加条件组，删除功能待解决bug


    拖拽布局：控件单独占用一行设置


    预览

    - 控件
        - 图片、附件以及高级组件
        - 下拉选择、选择框的选项配置
        - 数字、日期、时间的范围
        - 计数器控件
        - 按钮
        - 标题
        - 描述
        - 表格
    - 表单设计器
        - 样式布局
        - 预览
        - 表单设置
        - 表单属性
        - 表单事件、控件事件

    2023.10.30 前端会议


    git commit规范 type(scope): subject生成CHANGELOG


    node版本npm版本锁定


    11.02任务

    - 校验规则（必填、长度限制、格式限制、错误提示、数值范围、允许小数）
    - 关闭预览重置校验
    - 标题、默认提示、提示说明、状态、宽度占比

    11.03任务

    - 日期组件的日期范围
    - 计数器组件
    - 时间组件的时间范围

    遗留任务

    - 条件联动（预留）
    - 默认值（预留）
    - 下拉选择选项配置 （预留）
    - 下拉选择、选择框多选报错问题 （预留）
    - 数字、计数器控件 （预留）
    - 日期、时间组件范围 （预留）
    - **配置校验（时间范围、长度限制等）切换控件时校验，校验不通过阻止切换控件 —— 优化**

**数据大盘柱状图label不隐藏**


**宜搭默认值设置**


**缺陷复制负责人重复问题**


联动、默认值功能


默认值循环依赖


linkForm { a, b c}


curForm { aa, bb, cc}


aa = l.b === cur bb 


bb = l.a == cur.aa


petiid: {


    type: ‘api’,


    api: ‘url’,


    param: {


        id: {
        type: 
        },


    }


}


**布局控件**


表单中位置设置： 脱离文档流（表单顶部、表单底部）、不脱离文档流


控件子元素布局方式： 居中、left、right、space-between、space-around、


布局内子元素设置modelValue


**bugfix: 用例执行接口停止运行**


**测试阶段执行结果查询结果数据展示错误**


**测试用例执行添加”下一个“**


表格、标题、下拉选择选项配置


combo组件


| 值    |   |
| ---- | - |
| 基础值  |   |
| 表单字段 |   |
| API  |   |
| 公式   |   |


恩：11.13 - 11.22

- 表格
- 标题
- 控件所有配置项（除默认值）
- 默认值设置（公式编辑器）
- 公式解析

徳：11.13 - 11.22

- 动作配置（api调用）
- 清空
- 默认值设置（API）
- api解析

师：11.13 - 11.21

- 条件联动
- Combo组件显示回显
- 默认值设置（表单字段）
- 动作配置（赋值）
- 动作配置（更改属性）
- 表单配置解析

axios设置可以调用接口


c T


table <el-column>slot</el-column>


{

}


api调用 — 


动作执行 —


combo获取值


条件联动


事件处理


接口下拉分页获取数据


提交&提交并继续添加 默认绑定接口、表单验证


表单标题


选择框配置


动作处理（联动设置、事件处理）2d——1


api字段提取 0.5d——1


导入字段 1d —— 1


字段管理 & 绑定模型字段 1d——1


表单数据保存 0.5d ——0


发布预览 1d —— 


表单校验 1


提交并继续 恢复所有数据默认值


| 工作项             | 时长  | 进度 |
| --------------- | --- | -- |
| 动作处理（联动设置、事件处理） | 2d  | 1  |
| api字段提取         | 0.5 | 1  |
| 导入字段            | 1   | 1  |
| 字段管理 & 绑定模型字段   | 1   | 1  |
| 表单数据保存          | 0.5 | 1  |
| 发布预览            | 1   | —  |
| 表单校验            | 0.5 | 1  |
|                 |     |    |


---


公式 —— 解析undefined


优化：


placeholder为英文


使用页面：默认值配置公式生成不出来


api数据校验不起作用


所有数据类型未对准


绑定字段校验重复


条件动作数据保存校验


生成表单默认值


api调用参数设置JSON STRING_ARRAY JSON_ARRAY


条件参数提取功能拆解


```mermaid
graph TD;
条件联动数组-->单个条件联动-->条件配置-->Item;
条件配置-->Group --> Item;
Item --> compareLeft;
Item --> compareRight;
compareLeft --> ComboExtractFields;
compareRight --> ComboExtractFields;
ComboExtractFields --> 公式提取;
ComboExtractFields --> api提取;
api提取 --> path/query/body参数解析 --> ComboExtractFields;
```



默认值 formula | api 格式

<details>
<summary>原始数据</summary>

```javascript
{
	dependfields: [],
	prop: 'd',
	defaultValue: 111,
},
{
	dependfields: ['c'],
	prop: 'b',
	defaultValue: {
		type: 'formula',
		value: '$.field.c',
	},
},
{
	dependfields: ['b', 'c'],
	prop: 'a',
	defaultValue: {
		type: 'formula',
		value: '$.func.concatText($.field.b, $.field.c)'
	},
},
{
	dependfields: ['d'],
	prop: 'c',
	defaultValue: {
		type: 'api',
		value: {
			path: {
				id: {
					type: 'formula',
					value: '$.field.d',
				},
				...
			},
			query: {
				sort: {...}
			},
			body: {
				...
			}
		}
	},
},
```


</details>

<details>
<summary>graph</summary>

```mermaid
graph TD;
start --> a
a --> b;
b --> c;
b --> d;
a --> d;
d --> c;
c --> a;
```


</details>

<details>
<summary>赋值时: 插入片段</summary>

```javascript
{
	dependfields: ['c', 'd'],
	prop: 'b',
	defaultValue: {
		type: 'formula',
		value: '$.func.concatText($.field.c, $.field.d)'
	},
},
{
	dependfields: ['d', 'a'],
	prop: 'c',
	defaultValue: {
		type: 'formula',
		value: '$.func.concatText($.field.c, $.field.a)',
	},
},
```


</details>


条件执行——bug


字段设置默认值查询是否循环引用


字段生成默认值根据依赖树生成默认值


无法使用本地组件**重新link.** 


表格


下拉框


选择框


标题


公式解析


图片


附件


条件执行——bug


控件添加是否可绑定字段


绑定字段和保存控件数据不同步


字段类型校验；


表格默认值设置；


时间、日期组件默认值设置；


设置属性，没有按当前配置项展示默认数据


动作修改属性，布局中字段未修改


spring:
main:
# 注解循环依赖
allow-circular-references: true
application:
name: cmdb
datasource:


需求、待办、任务、缺陷、用例


单动作配置，无法保存


### 师绍卿


---


# 8189 按钮增加API配置


#8172 **菜单资源操作标识支持编辑**


# 工程添加分组—批量修改角色


### 汪金鹏


---


#7935 添加人员-人员悬浮


#8136 全局搜索右键/跳转


#8188 登录5A


#变量


### 预留


---


#8154


#8174


水果 18852854521 Shinihao22..


bios uClmJ5fZhw


用例变量接口调整


菜单--按钮编辑 新增权限标识。menuRes*_btn*_edit


工程分组查询工程


repo*_group*_add


repo*_group*_person


repo*_group*_del


repo*_group*_rename

menuRes*_btn*_edit


### 批量新建同上存在bug


**看prd**


阶段详情-批量操作下拉无法收起


开发-环境配置-显示名称必填


模版—列表表头


![Untitled.png](/notion/images/778c1e1f69dd0d6455b00eea1e7b4d4d.png)


任务表格


**模板编辑支持拖拽排序**


#v2.5 #页面模版字段-拓展信息
{
"ext":{
"filed_type(字段类型)":"built(内置)/custom(自定义)",
"value_type(字段值取值的类型)":"tag(字典)/custom(自定义)/interface(业务接口)",
"global(字典目录-全局/租户)":"true-全局/false-租户",
"tag_name(字典取值的key)":"priority",
"digits(小数点位数)":0,
"if_array(是否数组)":false,
"show_page(显示页面)":"CREATE/MODIFY/DETAIL/WORKFLOW",
"business_interface(业务接口)":"ITER-迭代/VERSION-版本/TEST_PLAN-测试计划/PROJ_MEMBER-项目人员",


“filter”: ‘状态/角色’
"if_auto_value(是否自动取值)":true,
"auto_value_config(自动取值配置)":{
"start_attr(起始属性)":"字段id",
"end_attr(结束属性)":"字段id",
"remove_holiday(去除节假日)":true,
"remove_week(去除周末)":true
},
"show_accuracy(显示精度)":"HOUR-时/MINUTE-分/SECOND-秒",
"if_delete(是否可删除)":true
}
}


```markdown
#### 接口设计
##### 租户/项目/页面模版

	1.页面模版字段-拓展信息定义

```json
{
    "ext":{
        "filed_type(字段类型)":"built(内置)/custom(自定义)",
        "value_type(字段值取值的类型)":"tag(字典)/custom(自定义)/interface(业务接口)/input(输入)/auto_value(自动取值)",
        "global(字典目录-全局/租户)":"true-全局/false-租户", -- 标签取值逻辑:先取全局，再取租户
        "tag_name(字典取值的key)":"priority",
        "digits(小数点位数)":0,
        "if_array(是否数组)":false,
        "show_page(显示页面)":"CREATE/MODIFY/DETAIL/WORKFLOW",
        "business_interface(业务接口)":"ITER-迭代/VERSION-版本/TEST_PLAN-测试计划/PROJ_MEMBER-项目人员",
        "if_auto_value(是否自动取值)":true,
        "auto_value_config(自动取值配置)":{
            "start_attr(起始属性)":"字段id",
            "end_attr(结束属性)":"字段id",
            "remove_holiday(去除节假日)":true,
            "remove_week(去除周末)":true
        },
        "show_accuracy(显示精度)":"HOUR-时/MINUTE-分/SECOND-秒",
        "if_delete(是否可删除)":true
    }
}
```
	2.自定义字段-格式示例
```json
{
    "template_custom_fileds":[
        {
            "name":"custom_select_one_tag",
            "label":"自定义字段-单选-字典",
            "data_type":"STRING",
            "widget_type":"SELECT",
            "default_value":"",
            "options":"[]",
            "required":false,
            "min_length":-1,
            "max_length":-1,
            "ext":{
                "filed_type":"custom",
                "value_type":"tag",
                "global":"true",
                "tag_name":"priority",
                "digits":0,
                "if_array":false,
                "show_page":"CREATE,MODIFY,DETAIL,WORKFLOW",
                "business_interface":"",
                "if_auto_value":false,
                "auto_value_config":{

                },
                "show_accuracy":"",
                "if_delete":true,
                "传参示例":"1"
            }
        },
        {
            "name":"custom_select_one_optional",
            "label":"自定义字段-单选-配置值",
            "data_type":"STRING",
            "widget_type":"SELECT",
            "default_value":"",
            "options":"[{\"code\":\"1\",\"value\":\"code1\"},{\"code\":\"2\",\"value\":\"code2\"}]",
            "required":false,
            "min_length":-1,
            "max_length":-1,
            "ext":{
                "filed_type":"custom",
                "value_type":"custom",
                "global":"",
                "tag_name":"",
                "digits":0,
                "if_array":false,
                "show_page":"CREATE,MODIFY,DETAIL,WORKFLOW",
                "business_interface":"",
                "if_auto_value":false,
                "auto_value_config":{

                },
                "show_accuracy":"",
                "if_delete":true,
                "传参示例":"code2"
            }
        },
        {
            "name":"custom_select_one_interface",
            "label":"自定义字段-单选-业务接口",
            "data_type":"STRING",
            "widget_type":"SELECT",
            "default_value":"",
            "options":"",
            "required":false,
            "min_length":-1,
            "max_length":-1,
            "ext":{
                "filed_type":"custom",
                "value_type":"interface",
                "global":"",
                "tag_name":"",
                "digits":0,
                "if_array":false,
                "show_page":"CREATE,MODIFY,DETAIL,WORKFLOW",
                "business_interface":"ITER",
                "if_auto_value":false,
                "auto_value_config":{

                },
                "show_accuracy":"",
                "if_delete":true,
                "传参示例":"业务id"
            }
        },
        {
            "name":"custom_select_much_tag",
            "label":"自定义字段-多选-字典",
            "data_type":"STRING",
            "widget_type":"CHECKBOX",
            "default_value":"",
            "options":"[]",
            "required":false,
            "min_length":-1,
            "max_length":-1,
            "ext":{
                "filed_type":"custom",
                "value_type":"tag",
                "global":"true",
                "tag_name":"priority",
                "digits":0,
                "if_array":true,
                "show_page":"CREATE,MODIFY,DETAIL,WORKFLOW",
                "business_interface":"",
                "if_auto_value":false,
                "auto_value_config":{

                },
                "show_accuracy":"",
                "if_delete":true,
                "传参示例":"[\"SAFELY_RELATED\",\"TEST_SCRIPT\",\"CONFIGURATION_RELATED\"]"
            }
        },
        {
            "name":"custom_select_much_optional",
            "label":"自定义字段-多选-配置值",
            "data_type":"STRING",
            "widget_type":"CHECKBOX",
            "options":"[{\"code\":\"01\",\"value\":\"code1\"},{\"code\":\"02\",\"value\":\"code2\"}]",
            "required":false,
            "min_length":-1,
            "max_length":-1,
            "ext":{
                "filed_type":"custom",
                "value_type":"custom",
                "global":"",
                "tag_name":"",
                "digits":0,
                "if_array":true,
                "show_page":"CREATE,MODIFY,DETAIL,WORKFLOW",
                "business_interface":"",
                "if_auto_value":false,
                "auto_value_config":{

                },
                "show_accuracy":"",
                "if_delete":true,
                "传参示例":"[\"code1\",\"code2\"]"
            }
        },
        {
            "name":"custom_select_much_interface",
            "label":"自定义字段-多选-业务接口",
            "data_type":"STRING",
            "widget_type":"CHECKBOX",
            "options":"",
            "required":false,
            "min_length":-1,
            "max_length":-1,
            "ext":{
                "filed_type":"custom",
                "value_type":"interface",
                "global":"",
                "tag_name":"",
                "digits":0,
                "if_array":true,
                "show_page":"CREATE,MODIFY,DETAIL,WORKFLOW",
                "business_interface":"ITER",
                "if_auto_value":false,
                "auto_value_config":{

                },
                "show_accuracy":"",
                "if_delete":true,
                "传参示例":"[\"业务id\",\"业务id\"]"
            }
        },
        {
            "name":"custom_one_txt",
            "label":"自定义字段-单行文本",
            "data_type":"STRING",
            "widget_type":"INPUT",
            "default_value":"",
            "options":"[]",
            "required":false,
            "min_length":-1,
            "max_length":-1,
            "ext":{
                "filed_type":"custom",
                "value_type":"input",
                "global":"",
                "tag_name":"",
                "digits":0,
                "if_array":false,
                "show_page":"CREATE,MODIFY,DETAIL,WORKFLOW",
                "business_interface":"",
                "if_auto_value":false,
                "auto_value_config":{

                },
                "show_accuracy":"",
                "if_delete":true,
                "传参示例":"111"
            }
        },
        {
            "name":"custom_much_txt",
            "label":"自定义字段-多行文本",
            "data_type":"STRING",
            "widget_type":"TEXTAREA",
            "default_value":"",
            "options":"[]",
            "required":false,
            "ext":{
                "filed_type":"custom",
                "value_type":"input",
                "global":"",
                "tag_name":"",
                "digits":0,
                "if_array":false,
                "show_page":"CREATE,MODIFY,DETAIL,WORKFLOW",
                "business_interface":"",
                "if_auto_value":false,
                "auto_value_config":{

                },
                "show_accuracy":"",
                "if_delete":true,
                "传参示例":"11\n22\n33"
            }
        },
        {
            "name":"custom_num",
            "label":"自定义字段-数值",
            "data_type":"STRING",
            "widget_type":"NUMBER",
            "default_value":"",
            "options":"[]",
            "required":false,
            "ext1":"{\"filed_type\":\"custom\",\"value_type\":\"custom\",\"global\":\"true\",\"tag_name\":\"\",\"digits\":\"2\",\"if_array\":false}",
            "ext":{
                "filed_type":"custom",
                "value_type":"input/auto_value",
                "global":"",
                "tag_name":"",
                "digits":2,
                "if_array":false,
                "show_page":"CREATE,MODIFY,DETAIL,WORKFLOW",
                "business_interface":"",
                "if_auto_value":true,
                "auto_value_config":{
                    "start_attr":"字段id",
                    "end_attr":"字段id",
                    "remove_holiday":true,
                    "remove_week":true
                },
                "show_accuracy":"",
                "if_delete":true,
                "传参示例":0.66
            }
        },
        {
            "name":"custom_date",
            "label":"自定义字段-时间-年月日",
            "data_type":"STRING",
            "widget_type":"DATE",
            "default_value":"",
            "options":"[]",
            "required":false,
            "ext":{
                "filed_type":"custom",
                "value_type":"input",
                "global":"",
                "tag_name":"",
                "digits":0,
                "if_array":false,
                "show_page":"CREATE,MODIFY,DETAIL,WORKFLOW",
                "business_interface":"",
                "if_auto_value":false,
                "auto_value_config":{

                },
                "show_accuracy":"",
                "if_delete":true,
                "传参示例":"2024-01-30T16:00:00.000Z"
            }
        },
        {
            "name":"custom_date_time",
            "label":"自定义字段-时间-年月日时分秒",
            "data_type":"STRING",
            "widget_type":"DATETIME",
            "default_value":"",
            "options":"[]",
            "required":false,
            "ext":{
                "filed_type":"custom",
                "value_type":"input",
                "global":"",
                "tag_name":"",
                "digits":0,
                "if_array":false,
                "show_page":"CREATE,MODIFY,DETAIL,WORKFLOW",
                "business_interface":"",
                "if_auto_value":false,
                "auto_value_config":{

                },
                "show_accuracy":"HOUR",
                "if_delete":true,
                "传参示例":"2024-01-30T16:00:00.000Z"
            }
        },
        {
            "name":"custom_time",
            "label":"自定义字段-时间-时分秒",
            "data_type":"STRING",
            "widget_type":"DATE",
            "default_value":"",
            "options":"[]",
            "required":false,
            "ext":{
                "filed_type":"custom",
                "value_type":"input",
                "global":"",
                "tag_name":"",
                "digits":0,
                "if_array":false,
                "show_page":"CREATE,MODIFY,DETAIL,WORKFLOW",
                "business_interface":"",
                "if_auto_value":false,
                "auto_value_config":{

                },
                "show_accuracy":"",
                "if_delete":true,
                "传参示例":"15:09:05"
            }
        }
    ]
}
```



#### 问题

1.  字段取值为字典时，取值逻辑？目前根据key取全局字典，全局字典取不到取租户字典。
2. 字段取值为自定义时，optional存值code和value是反的
```


报表配置/**编辑图表类型**


insight服务


/ca/search/metrics/add


/ca/search/metrics/modify


「dynamic_url」：url


「dimKindEnum」： custom_business


中 dimData参数中的 dimKindEnum 加一个枚举项， custom_business：自定业务字段


新增难度系数字段


根据字典获取下拉数据的字段查询时携带isGlobal参数


交叉开发，代码格式不统一，无法复用重复或相似功能


**`搜索 + 高级搜索 + 工作流 + 编辑｜新建 + 详情 + 预览 + 批量新建 + 业务工作流弹窗 + 批量编辑 + 跨项目提需求`**   


自动取值 + 业务接口详情显示


模版预览


列表表头缺少业务字段


数字格式小数点


时间字段


自动取值搜索报错：数字格式


日期禁用范围：日期控件添加默认时间
自动取值前端主动调用接口获取；


`get_res_apis这个接口改成get了，之前是put说该忘改了，这个版本记得改一下哈`


模版预览功能


工作流验证内容保存


模版配置字典租户tag添加租户id


高级搜索数值控件


![Untitled.png](/notion/images/9b01b6dc4766f7b6ce2e6baa8b242251.png)


1.页面模版-新建字段-字典取值，全局标签 ext-》tag_name格式保存为(_:tag)、租户标签 ext-》tag_name格式保存为(tenant_id:tag)
2.获取标签的子项列表时，入参传ext-》tag_name的值


# **权限**


**项目组人员：group*node**_*****_**person**


**isGlobal字段改为布尔值**


自动取值字段添加创建时间


项目组添加搜索名称


VPN的使用方法Object.keys(filterParams)


1、通过网页访问


[https://183.134.216.4/](https://183.134.216.4/)


账号为手机号，密码为HYkj_2020@2020，登录修改密码，然后退出登录点击,'SSL VPN客户端下载'


2、下载完成后根据安装程序完成客户端的安装,使用客户端进行登录，用户名为手机号码,服务器地址填写183.134.216.4


新申请VPN的同事，用自己的手机网络连接上述地址，登录后修改密码。按上面操作看一下有没有问题


03.15


本周工作：

    1. 完成开放平台静态页面：
        1. 分类页面
        2. 产品详情页
        3. 订单确认页面
        4. 产品中心
        5. 订阅中心
        6. 个人中心

03.01


本周工作

    1. 项目优化单词拼写
        1. 项目管理、
        2. 开发模块、
        3. 测试模块、
        4. 数据大盘应用、
        5. 变量、
        6. 菜单资源、
        7. API资源、
        8. 项目人员、
        9. 工作流
    2. 熟悉开放平台功能

下周安排

    1. 开放平台设计与搭建
    2. 完成开放平台部分页面

    跨站获取cookie


    code-line-num


    form-engine


    dec: 


    add: 21478


    removed: 8754


    total: 12724


    ssq:


    add: 38699


    removed: 13914


    total: 24785


    form-design:


    dec: 0


    ssq:


    add: 22499


    removed: 12015


    total: 10484


    用户与组织迁移


    ![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/798f6593-941a-407f-a3f2-944d2974b71d/d7a9c3b5-47cd-43e1-814c-7f9da50b8868/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4667DN26MTV%2F20250726%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250726T141709Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDUaCXVzLXdlc3QtMiJHMEUCIAh0v1HpU3uNLr%2FGbZsYZHlZCzsJjpFH%2BjV2uyzaI9MVAiEAnx5gEU0YFrw9c2OFvbQ7QAjLTzCZoWVbreAUUvJX1%2BIq%2FwMIXhAAGgw2Mzc0MjMxODM4MDUiDEeQKNXTsRF%2FBj2pMircA%2FI%2Fqho6l1buu6yj87zC%2BosWH%2Babco6F9xM%2B3dkOhybJhX8uP0hWWU2bgMFQd3fRHxUgPs%2BigfnUWGaYQ%2BtF%2B%2B6bQVbdbZU6H1%2FjH0qbXdqqQH4DO5muh6Q8VxEt0nycUgOpz4WzCxuNH%2BzJFBd43uF5pjKrNQMx9pt%2BI9ivjyEMkXykXImFsZXJo5abHzLtX3vyzmpe93KK9E0Y2Lq8Pexkas2QwprDEGkpslkUcTjCYES%2FyIVMR%2BxVjTvWepvtPSth3jSTqNWlm%2BjO6tod4hTTjVHylM1IdsYeW5HRnKJbthPh2KH5Lv3bKEswM7tnckYFyy77lbRah0%2BqmaXpDmm7VL3CB%2FJECufTLve5UGgrb5qYqbuOMmxzQNYk2EpUvav5eqX2eFPTjH%2F8BXP2j0c2Ak9cmGVIbVL8FCRpc0O6swB4TvBMGup4%2F8ELtRsX5xcGKIJZwibNj0gVAomRO10Ja2a%2BrzWB64LySmVGhD4fJ%2BtT7O4FGRlB3jHbxekscY9FPsXotQ8P52EWBehb01JEoBDOCYL13fSgGWBmOjrDaNxbbq1oafhIAuT5gTxknITDeDsQSF8Dx%2Be0sYRxbNrcFSRSI63IAVVuyov3l9WZ0FcYSaxnAJQoos3PMPCnk8QGOqUBBVF%2B0GKhuoPt%2F%2B1ashY9dI65N8DLfilGWTlFr52nf0Im4%2Fpi3ghdNaUI6GcQ9vCH%2F6tmCm0Og4k4%2BYqOErrB7UwqE5NrkMSUyCvcnxAghYyy7Q8d7zjCtr8msC8t6Bj0jWpylqH9n72SSg7vb666rRUBFqZBKrdU6N7DmWsSaKgidncAt6kNTLvl3cro55B6ZDfxQoeCteZotYr5Zyk3tpnSxObX&X-Amz-Signature=2feb48b99a3760be9034591d297bac3b3a9dbd71832292289cb094f369d3de55&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


    迁移到主应用｜单独子应用


    
**本周工作内容**

    1. 了解开放平台需求
    2. 熟悉功能以及时间评估
    3. 搭建子应用、基座应用添加子应用

    **下周工作内容
    完成以下页面：**

    1. 首页
    2. 分类页面
    3. 产品详情
    4. 订单确认
    5. 订单详情
    6. 订单详情
    7. 产品管理
    8. 创建产品-基础信息
    9. 规格定价

    **关于 tailwind 的 preflight 样式**


    [bookmark](https://www.naiveui.com/zh-CN/os-theme/docs/style-conflict)


    背景图


开放平台工作评估


microapp传输store数据失去响应式问题


主应用添加开放平台图标


详情规格、invoke_count







~~主应用添加开放平台图标~~
~~api展示~~


~~调用详情resource_id~~
~~订阅数据查询（当前订阅、历史订阅）~~

<u>~~权限配置~~</u>
路由
规格限制条件默认值
规格限制条件必填
规格限制条件控件支持
主应用跳转问题
面包屑整理


~~主题兼容~~


微前端权限：主应用提取common 路由拦截函数；跳转404/403component作为参数传入，（前提：数据共享，即缓存仓库可以共享，数据在子应用具有响应式）
路由参数加密：页面变量赋值无法获取（undefined）,直接获取route.query.xxx可以获取值


开放平台按钮权限


权限记录


平台层产品审核页面权限


```typescript
产品管理
openPlatform*tenant*create 新建
openPlatform*tenant*productSubmit	提交
openPlatform*tenant*productEdit	编辑
openPlatform*tenant*productOffline	下架
openPlatform*tenant*productOnline 上架
openPlatform*tenant*productApi	api文档
openPlatform*tenant*productWithdraw	撤回
openPlatform*tenant*productDel	删除


产品审核
openPlatform*tenant*productReview	审核
订单管理
openPlatform*order*review	审核
订阅管理
openPlatform*subscribeManage*cancel	取消	--
openPlatform*subscribeManage*invokeRecord	调用记录

我的订单
openPlatform*order*cancel	取消

我的订阅
openPlatform*subscribe*refill	续订	--
openPlatform*subscribe*change	变更	--
openPlatform*subscribe*invokeRecord	调用记录	--
openPlatform*subscribe*cancel	取消	--
openPlatform*subscribe*evaluation	评价
openPlatform*view*accessKey	查看ak/sk

平台层
openPlatform*system*productOffline	下架	--
openPlatform*system*productReview	审核

项目层
openPlatform*project*productWithdraw	撤回	--
openPlatform*project*productEdit	编辑	--
openPlatform*project*productSubmit	提交	--
openPlatform*project*productApi	api文档	--
openPlatform*project*create	新建
openPlatform*project*productDel	删除
```


```typescript
{
          path: 'management',
          name: 'ProductManagement',
          meta: {
            title: '产品管理',
          },
        },
        {
          path: 'mySubscribe',
          name: 'MySubscribe',
          meta: {
            title: '我的订阅',
          },
        },
        
        openPlatform*tenant*productDel	删除
        openPlatform*project*productDel	删除
        openPlatform*tenant*productOnline 上架
```


开放平台跳转新页面


主题


自定义限制条件


~~默认值~~


必填


控件支持


子应用添加router.changehooks;路由改变反馈给主应用


子应用共享主应用store,丢失响应性


项目层新建的产品：平台层拒绝后，租户层编辑，状态修改为项目待提交


首页调用→ 帮助文档 跳转


## 明年这个时候是什么样呢
1. 06.28 16:07:10 天气：阴

2024.08.09 13:57:40 天气：晴40度；面试等待中…


## 请假及加班记录

## 调休


child_database


child_database


春节调休


2月2号-2月9号  （7天）
2月18号-2月23号 （6天）


## 周末记录

**Kubernetes NodePort**


**microapp发布部署**


nginx docker部署


minIo

