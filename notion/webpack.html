<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Webpack åŸç†å…¨è§£æï¼šä»åŸºç¡€åˆ°è¿›é˜¶ | ç‰§é£å¤•å¤§ä½¬</title>
    <meta name="description" content="ä¸ªäººåšå®¢">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/blog/assets/style.CdXY_6EB.css" as="style">
    <link rel="preload stylesheet" href="/blog/vp-icons.css" as="style">
    
    <script type="module" src="/blog/assets/app.BZvsp3ic.js"></script>
    <link rel="preload" href="/blog/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/blog/assets/chunks/theme.D_LTBQX2.js">
    <link rel="modulepreload" href="/blog/assets/chunks/framework.C7odH_dJ.js">
    <link rel="modulepreload" href="/blog/assets/notion_webpack.md.MWc_IdEO.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-0bf7ccee><!--[--><!--]--><!--[--><span tabindex="-1" data-v-302d1b47></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-302d1b47>Skip to content</a><!--]--><!----><header class="VPNav" data-v-0bf7ccee data-v-fc7f4c48><div class="VPNavBar" data-v-fc7f4c48 data-v-5e330e32><div class="wrapper" data-v-5e330e32><div class="container" data-v-5e330e32><div class="title" data-v-5e330e32><div class="VPNavBarTitle" data-v-5e330e32 data-v-22d18919><a class="title" href="/blog/" data-v-22d18919><!--[--><!--]--><!----><span data-v-22d18919>ç‰§é£å¤•å¤§ä½¬</span><!--[--><!--]--></a></div></div><div class="content" data-v-5e330e32><div class="content-body" data-v-5e330e32><!--[--><!--]--><div class="VPNavBarSearch search" data-v-5e330e32><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-5e330e32 data-v-35ccf949><span id="main-nav-aria-label" class="visually-hidden" data-v-35ccf949> Main Navigation </span><!--[--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-5e330e32 data-v-e0faf910><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-e0faf910 data-v-11dd4952 data-v-5ab025d4><span class="check" data-v-5ab025d4><span class="icon" data-v-5ab025d4><!--[--><span class="vpi-sun sun" data-v-11dd4952></span><span class="vpi-moon moon" data-v-11dd4952></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-5e330e32 data-v-e3c39ef3 data-v-77da2137><!--[--><a class="VPSocialLink no-icon" href="https://github.com/SSQLQIANBB/blog" aria-label="github" target="_blank" rel="noopener" data-v-77da2137 data-v-3cb5cc61><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-5e330e32 data-v-eda5ba29 data-v-8f242582><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-8f242582><span class="vpi-more-horizontal icon" data-v-8f242582></span></button><div class="menu" data-v-8f242582><div class="VPMenu" data-v-8f242582 data-v-7965dd3f><!----><!--[--><!--[--><!----><div class="group" data-v-eda5ba29><div class="item appearance" data-v-eda5ba29><p class="label" data-v-eda5ba29>Appearance</p><div class="appearance-action" data-v-eda5ba29><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-eda5ba29 data-v-11dd4952 data-v-5ab025d4><span class="check" data-v-5ab025d4><span class="icon" data-v-5ab025d4><!--[--><span class="vpi-sun sun" data-v-11dd4952></span><span class="vpi-moon moon" data-v-11dd4952></span><!--]--></span></span></button></div></div></div><div class="group" data-v-eda5ba29><div class="item social-links" data-v-eda5ba29><div class="VPSocialLinks social-links-list" data-v-eda5ba29 data-v-77da2137><!--[--><a class="VPSocialLink no-icon" href="https://github.com/SSQLQIANBB/blog" aria-label="github" target="_blank" rel="noopener" data-v-77da2137 data-v-3cb5cc61><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-5e330e32 data-v-8105b025><span class="container" data-v-8105b025><span class="top" data-v-8105b025></span><span class="middle" data-v-8105b025></span><span class="bottom" data-v-8105b025></span></span></button></div></div></div></div><div class="divider" data-v-5e330e32><div class="divider-line" data-v-5e330e32></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-0bf7ccee data-v-7113dab9><div class="container" data-v-7113dab9><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-7113dab9 data-v-56227d67><button data-v-56227d67>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-0bf7ccee data-v-2771b9ea><div class="VPDoc has-aside" data-v-2771b9ea data-v-3c57f0b8><!--[--><!--]--><div class="container" data-v-3c57f0b8><div class="aside" data-v-3c57f0b8><div class="aside-curtain" data-v-3c57f0b8></div><div class="aside-container" data-v-3c57f0b8><div class="aside-content" data-v-3c57f0b8><div class="VPDocAside" data-v-3c57f0b8 data-v-62306fd0><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-62306fd0 data-v-85a3f623><div class="content" data-v-85a3f623><div class="outline-marker" data-v-85a3f623></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-85a3f623>On this page</div><ul class="VPDocOutlineItem root" data-v-85a3f623 data-v-69339ab4><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-62306fd0></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-3c57f0b8><div class="content-container" data-v-3c57f0b8><!--[--><!--]--><main class="main" data-v-3c57f0b8><div style="position:relative;" class="vp-doc _blog_notion_webpack" data-v-3c57f0b8><div><h2 id="webpackåŸç†" tabindex="-1">webpackåŸç† <a class="header-anchor" href="#webpackåŸç†" aria-label="Permalink to &quot;webpackåŸç†&quot;">â€‹</a></h2><blockquote><p>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://segmentfault.com/a/1190000015088834#item-4" target="_blank" rel="noreferrer">WebpackåŸç†æ·±åº¦å‰–æ</a></p></blockquote><h2 id="æ‰§è¡Œæµç¨‹" tabindex="-1">æ‰§è¡Œæµç¨‹ <a class="header-anchor" href="#æ‰§è¡Œæµç¨‹" aria-label="Permalink to &quot;æ‰§è¡Œæµç¨‹&quot;">â€‹</a></h2><div class="language-mermaid vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">A[å¼€å§‹æ„å»º]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">B[Compiler:run]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">C[åˆ›å»º NormalModuleFactory å’Œ ContextModuleFactory]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D[ContextModuleFactory: beforeResolve]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">E[ContextModuleFactory: afterResolve]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">F[NormalModuleFactory: beforeResolve]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">G[NormalModuleFactory: afterResolve]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">H[JavascriptParse]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">I[NormalModuleFactory: generator]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">J[Compiler: beforeCompile]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">K[Compiler: compile]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">L[Compiler: thisCompilationåˆå§‹åŒ–compliation]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">M[Compiler: make]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">N[Compilation: buildModule]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">O[Compilation: seal]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">P[Compilation: optimize]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Q[ç”Ÿæˆ Assets]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">R[Compiler: emit]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">S[Compiler: done]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">T[æ„å»ºå®Œæˆ]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">A --&gt; B --&gt; C --&gt; D --&gt; E --&gt; F</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">C --&gt; F</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">F --&gt; G</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">G --&gt; H --&gt; I --&gt; J --&gt; K --&gt; L --&gt; M --&gt; N</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">N --&gt; O</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">O --&gt; P</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">P --&gt; Q</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Q --&gt; R</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">R --&gt; S --&gt; T</span></span></code></pre></div><h2 id="æ¨¡å—è”é‚¦" tabindex="-1">æ¨¡å—è”é‚¦ <a class="header-anchor" href="#æ¨¡å—è”é‚¦" aria-label="Permalink to &quot;æ¨¡å—è”é‚¦&quot;">â€‹</a></h2><blockquote><p>ğŸ’¡ <strong>æ¨¡å—è”é‚¦ç¤ºä¾‹</strong><br><a href="https://github.com/kavience/module-federation-demo" target="_blank" rel="noreferrer">https://github.com/kavience/module-federation-demo</a></p></blockquote><ol><li><strong>hash</strong>: <ul><li><code>hash</code>Â æ˜¯åœ¨æ•´ä¸ªæ„å»ºè¿‡ç¨‹ä¸­ç”Ÿæˆçš„ä¸€ä¸ªå•ä¸€çš„å“ˆå¸Œå€¼ã€‚å½“ä½ ä¿®æ”¹é¡¹ç›®ä¸­çš„ä»»ä½•ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œæ‰€æœ‰è¾“å‡ºæ–‡ä»¶çš„å“ˆå¸Œå€¼éƒ½ä¼šæ”¹å˜ã€‚è¿™æ˜¯å› ä¸ºæ•´ä¸ªæ„å»ºçš„ä¸Šä¸‹æ–‡æ”¹å˜äº†ï¼Œå³ä½¿å¤§å¤šæ•°æ–‡ä»¶å†…å®¹å®é™…ä¸Šå¹¶æ²¡æœ‰å˜åŒ–ã€‚è¿™ç§æ–¹å¼é€‚ç”¨äºé‚£äº›éœ€è¦æ‰€æœ‰èµ„æºä¸€èµ·é‡æ–°åŠ è½½çš„åœºæ™¯ï¼Œä½†å®ƒä¸æ˜¯æœ€ç†æƒ³çš„ç¼“å­˜ç­–ç•¥ï¼Œå› ä¸ºå®ƒä¸èƒ½ç²’åº¦åŒ–åœ°æ§åˆ¶èµ„æºçš„æ›´æ–°ã€‚</li></ul></li><li><strong>chunkhash</strong>: <ul><li><code>chunkhash</code>Â æ˜¯åŸºäºæ¯ä¸ªä»£ç å—(chunk)ç”Ÿæˆçš„å“ˆå¸Œå€¼ã€‚åœ¨webpackä¸­ï¼Œæ¯ä¸ªå…¥å£ç‚¹(entry point)ä¼šç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ªchunkã€‚å½“ä½ ä¿®æ”¹æŸä¸ªchunkä¸­çš„æ–‡ä»¶æ—¶ï¼Œåªæœ‰è¯¥chunkç›¸å…³çš„è¾“å‡ºæ–‡ä»¶çš„å“ˆå¸Œå€¼ä¼šæ”¹å˜ã€‚è¿™ç§æ–¹å¼æ›´æœ‰åˆ©äºç¼“å­˜ï¼Œå› ä¸ºå®ƒåªå½±å“ç›¸å…³è”çš„æ–‡ä»¶ï¼Œè€Œä¸æ˜¯æ‰€æœ‰æ–‡ä»¶ã€‚å®ƒé€‚ç”¨äºå¸Œæœ›åœ¨ä¿®æ”¹æŸä¸ªåŠŸèƒ½æ¨¡å—æ—¶ï¼Œåªæ›´æ–°è¯¥æ¨¡å—ç›¸å…³èµ„æºçš„åœºæ™¯ã€‚</li></ul></li><li><strong>contenthash</strong>: <ul><li><code>contenthash</code>Â æ˜¯åŸºäºæ–‡ä»¶å†…å®¹ç”Ÿæˆçš„å“ˆå¸Œå€¼ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœæ–‡ä»¶å†…å®¹æ²¡æœ‰å˜åŒ–ï¼Œå³ä½¿å…¶ä»–æ–‡ä»¶æœ‰æ‰€æ”¹åŠ¨ï¼Œè¯¥æ–‡ä»¶çš„<code>contenthash</code>ä¹Ÿä¸ä¼šæ”¹å˜ã€‚è¿™æä¾›äº†æœ€ç»†ç²’åº¦çš„ç¼“å­˜æ§åˆ¶ï¼Œç‰¹åˆ«é€‚åˆæ ·å¼æ–‡ä»¶ã€å›¾ç‰‡å’Œå…¶ä»–é™æ€èµ„æºã€‚ä¾‹å¦‚ï¼Œå½“åªæœ‰CSSæ–‡ä»¶å†…å®¹æ”¹å˜æ—¶ï¼Œåªæœ‰å¯¹åº”çš„CSSæ–‡ä»¶å“ˆå¸Œä¼šå˜åŒ–ï¼ŒJSæ–‡ä»¶çš„å“ˆå¸Œåˆ™ä¿æŒä¸å˜ï¼Œä»è€Œå®ç°æ›´ç²¾å‡†çš„ç¼“å­˜æ›´æ–°</li></ul></li></ol><p>æ‰“åŒ…ä¼˜åŒ–</p><p><a href="https://segmentfault.com/a/1190000015088834#item-4" target="_blank" rel="noreferrer">bookmark</a></p><h2 id="" tabindex="-1"><a class="header-anchor" href="#" aria-label="Permalink to &quot;&quot;">â€‹</a></h2><h1 id="webpack-åŸç†å…¨è§£æ-ä»åŸºç¡€åˆ°è¿›é˜¶" tabindex="-1">Webpack åŸç†å…¨è§£æï¼šä»åŸºç¡€åˆ°è¿›é˜¶ <a class="header-anchor" href="#webpack-åŸç†å…¨è§£æ-ä»åŸºç¡€åˆ°è¿›é˜¶" aria-label="Permalink to &quot;Webpack åŸç†å…¨è§£æï¼šä»åŸºç¡€åˆ°è¿›é˜¶&quot;">â€‹</a></h1><h2 id="ä¸€ã€æ ¸å¿ƒæ¦‚å¿µä¸æ•´ä½“æ¶æ„" tabindex="-1">ä¸€ã€æ ¸å¿ƒæ¦‚å¿µä¸æ•´ä½“æ¶æ„ <a class="header-anchor" href="#ä¸€ã€æ ¸å¿ƒæ¦‚å¿µä¸æ•´ä½“æ¶æ„" aria-label="Permalink to &quot;ä¸€ã€æ ¸å¿ƒæ¦‚å¿µä¸æ•´ä½“æ¶æ„&quot;">â€‹</a></h2><h3 id="_1-åŸºç¡€æ¦‚å¿µä½“ç³»" tabindex="-1">1. åŸºç¡€æ¦‚å¿µä½“ç³» <a class="header-anchor" href="#_1-åŸºç¡€æ¦‚å¿µä½“ç³»" aria-label="Permalink to &quot;1. åŸºç¡€æ¦‚å¿µä½“ç³»&quot;">â€‹</a></h3><p>Webpack çš„æ ¸å¿ƒå·¥ä½œæ˜¯å°†æ¨¡å—åŒ–é¡¹ç›®æ‰“åŒ…ä¸ºå¯è¿è¡Œçš„é™æ€èµ„æºï¼Œæ ¸å¿ƒæ¦‚å¿µåŒ…æ‹¬ï¼š</p><table tabindex="0"><thead><tr><th>æ¦‚å¿µ</th><th>å®šä¹‰ä¸ä½œç”¨</th></tr></thead><tbody><tr><td><strong>Entry</strong></td><td>æ„å»ºå…¥å£ç‚¹ï¼ŒWebpack ä»è¿™é‡Œå¼€å§‹é€’å½’è§£ææ‰€æœ‰ä¾èµ–æ¨¡å—ï¼ˆæ”¯æŒå•å…¥å£/å¤šå…¥å£é…ç½®ï¼‰ã€‚</td></tr><tr><td><strong>Module</strong></td><td>é¡¹ç›®ä¸­æ‰€æœ‰æ–‡ä»¶å‡è§†ä¸ºæ¨¡å—ï¼ˆJS/CSS/å›¾ç‰‡ç­‰ï¼‰ï¼Œé€šè¿‡ Loader è½¬æ¢ä¸ºå¯å¤„ç†æ ¼å¼ã€‚</td></tr><tr><td><strong>Chunk</strong></td><td>ç”±å¤šä¸ªæ¨¡å—ç»„åˆè€Œæˆçš„ä»£ç å—ï¼Œç”¨äºä»£ç åˆå¹¶ï¼ˆå¦‚å…¬å…±åº“æå–ï¼‰å’Œåˆ†å‰²ï¼ˆå¦‚å¼‚æ­¥åŠ è½½ï¼‰ã€‚</td></tr><tr><td><strong>Loader</strong></td><td>æ¨¡å—è½¬æ¢å™¨ï¼Œå°†é JS æ¨¡å—ï¼ˆå¦‚ <code>.scss</code> â†’ <code>.css</code>ï¼‰è½¬æ¢ä¸º Webpack å¯è¯†åˆ«çš„æ ¼å¼ã€‚</td></tr><tr><td><strong>Plugin</strong></td><td>æ‰©å±•æ’ä»¶ï¼Œé€šè¿‡ç›‘å¬ Webpack ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ä¿®æ”¹æ„å»ºè¿‡ç¨‹æˆ–è¾“å‡ºç»“æœï¼ˆå¦‚å‹ç¼©ã€æ³¨å…¥èµ„æºï¼‰ã€‚</td></tr><tr><td><strong>Output</strong></td><td>è¾“å‡ºé…ç½®ï¼Œå®šä¹‰æ‰“åŒ…åæ–‡ä»¶çš„è·¯å¾„ã€åç§°ã€å…¬å…±è·¯å¾„ç­‰ã€‚</td></tr></tbody></table><h3 id="_2-æ•´ä½“å·¥ä½œæµæ¶æ„" tabindex="-1">2. æ•´ä½“å·¥ä½œæµæ¶æ„ <a class="header-anchor" href="#_2-æ•´ä½“å·¥ä½œæµæ¶æ„" aria-label="Permalink to &quot;2. æ•´ä½“å·¥ä½œæµæ¶æ„&quot;">â€‹</a></h3><p>Webpack æ„å»ºæµç¨‹æ˜¯<strong>ä¸²è¡Œçš„ç”Ÿå‘½å‘¨æœŸè¿‡ç¨‹</strong>ï¼Œæ ¸å¿ƒç”± <code>Compiler</code>ï¼ˆå…¨å±€æ„å»ºç®¡ç†å™¨ï¼‰å’Œ <code>Compilation</code>ï¼ˆå•æ¬¡ç¼–è¯‘ä¸Šä¸‹æ–‡ï¼‰é©±åŠ¨ï¼Œæ•´ä½“æ¶æ„å¦‚ä¸‹ï¼š</p><div class="language-mermaid vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    A[åˆå§‹åŒ–å‚æ•°] --&gt; B[åˆ›å»ºCompilerå®ä¾‹]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    B --&gt; C[åŠ è½½æ’ä»¶]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    C --&gt; D[ç¡®å®šå…¥å£]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    D --&gt; E[ç¼–è¯‘æ¨¡å—]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    E --&gt; F[ç”ŸæˆChunk]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    F --&gt; G[è¾“å‡ºèµ„æº]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    G --&gt; H[å®Œæˆæ„å»º]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph æ ¸å¿ƒå¯¹è±¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Compiler[Compiler&lt;br/&gt;å…¨å±€å”¯ä¸€ï¼Œç®¡ç†å…¨ç”Ÿå‘½å‘¨æœŸ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Compilation[Compilation&lt;br/&gt;å•æ¬¡ç¼–è¯‘ä¸Šä¸‹æ–‡ï¼Œå«æ¨¡å—/èµ„æº]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Compiler --&gt;|è§¦å‘äº‹ä»¶| Compilation</span></span></code></pre></div><h2 id="äºŒã€æ„å»ºæµç¨‹æ·±åº¦è§£æ" tabindex="-1">äºŒã€æ„å»ºæµç¨‹æ·±åº¦è§£æ <a class="header-anchor" href="#äºŒã€æ„å»ºæµç¨‹æ·±åº¦è§£æ" aria-label="Permalink to &quot;äºŒã€æ„å»ºæµç¨‹æ·±åº¦è§£æ&quot;">â€‹</a></h2><h3 id="_1-æµç¨‹æ€»è§ˆ" tabindex="-1">1. æµç¨‹æ€»è§ˆ <a class="header-anchor" href="#_1-æµç¨‹æ€»è§ˆ" aria-label="Permalink to &quot;1. æµç¨‹æ€»è§ˆ&quot;">â€‹</a></h3><p>Webpack æ„å»ºå¯åˆ†ä¸º 7 ä¸ªæ ¸å¿ƒæ­¥éª¤ï¼Œç¯ç¯ç›¸æ‰£å½¢æˆå®Œæ•´æµæ°´çº¿ï¼š</p><ol><li><strong>åˆå§‹åŒ–å‚æ•°</strong>ï¼šåˆå¹¶ <code>webpack.config.js</code>ã€å‘½ä»¤è¡Œå‚æ•°ï¼ˆå¦‚ <code>-mode production</code>ï¼‰ï¼Œç”Ÿæˆæœ€ç»ˆé…ç½®ã€‚</li><li><strong>åˆ›å»º Compiler</strong>ï¼šå®ä¾‹åŒ–å…¨å±€å”¯ä¸€çš„ <code>Compiler</code> å¯¹è±¡ï¼ŒåŒ…å«å®Œæ•´é…ç½®å’Œç”Ÿå‘½å‘¨æœŸé’©å­ã€‚</li><li><strong>åŠ è½½æ’ä»¶</strong>ï¼šæ‰§è¡Œæ’ä»¶ <code>apply</code> æ–¹æ³•ï¼Œæ’ä»¶é€šè¿‡ <code>compiler.hooks</code> æ³¨å†Œäº‹ä»¶ç›‘å¬ã€‚</li><li><strong>ç¡®å®šå…¥å£</strong>ï¼šæ ¹æ® <code>entry</code> é…ç½®è§£æå…¥å£æ–‡ä»¶è·¯å¾„ï¼ˆå¦‚ <code>./src/index.js</code>ï¼‰ã€‚</li><li><strong>ç¼–è¯‘æ¨¡å—</strong>ï¼šä»å…¥å£å‡ºå‘ï¼Œé€’å½’è§£ææ‰€æœ‰ä¾èµ–ï¼Œè°ƒç”¨ Loader è½¬æ¢æ¨¡å—å†…å®¹ï¼Œç”Ÿæˆ AST åˆ†æä¾èµ–å…³ç³»ã€‚</li><li><strong>ç”Ÿæˆ Chunk</strong>ï¼šæ ¹æ®ä¾èµ–å…³ç³»å°†æ¨¡å—ç»„åˆä¸º Chunkï¼ˆå¦‚å…¥å£ Chunkã€å¼‚æ­¥ Chunkï¼‰ã€‚</li><li><strong>è¾“å‡ºèµ„æº</strong>ï¼šå°† Chunk è½¬æ¢ä¸ºæœ€ç»ˆæ–‡ä»¶ï¼ˆå¦‚ <code>main.js</code>ã€<code>vendor.js</code>ï¼‰ï¼Œå†™å…¥æ–‡ä»¶ç³»ç»Ÿã€‚</li></ol><h3 id="_2-åˆ†é˜¶æ®µè¯¦è§£ä¸å…³é”®äº‹ä»¶" tabindex="-1">2. åˆ†é˜¶æ®µè¯¦è§£ä¸å…³é”®äº‹ä»¶ <a class="header-anchor" href="#_2-åˆ†é˜¶æ®µè¯¦è§£ä¸å…³é”®äº‹ä»¶" aria-label="Permalink to &quot;2. åˆ†é˜¶æ®µè¯¦è§£ä¸å…³é”®äº‹ä»¶&quot;">â€‹</a></h3><h3 id="_1-åˆå§‹åŒ–é˜¶æ®µ-compiler-å‡†å¤‡" tabindex="-1">ï¼ˆ1ï¼‰åˆå§‹åŒ–é˜¶æ®µï¼ˆCompiler å‡†å¤‡ï¼‰ <a class="header-anchor" href="#_1-åˆå§‹åŒ–é˜¶æ®µ-compiler-å‡†å¤‡" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰åˆå§‹åŒ–é˜¶æ®µï¼ˆCompiler å‡†å¤‡ï¼‰&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>äº‹ä»¶å</th><th>è§¦å‘æ—¶æœºä¸ä½œç”¨</th></tr></thead><tbody><tr><td><code>initialize</code></td><td>åˆå§‹åŒ–å‚æ•°å®Œæˆï¼Œå‡†å¤‡åˆ›å»º Compiler å®ä¾‹ã€‚</td></tr><tr><td><code>environment</code></td><td>åº”ç”¨ Node.js æ–‡ä»¶ç³»ç»Ÿï¼ˆç”¨äºæ–‡ä»¶è¯»å†™ï¼‰ï¼Œåç»­å¯é€šè¿‡ <code>compiler.inputFileSystem</code> æ“ä½œæ–‡ä»¶ã€‚</td></tr><tr><td><code>entry-option</code></td><td>è§£æ <code>entry</code> é…ç½®ï¼Œä¸ºæ¯ä¸ªå…¥å£åˆ›å»º <code>EntryPlugin</code>ï¼Œå‡†å¤‡é€’å½’è§£æä¾èµ–ã€‚</td></tr><tr><td><code>after-plugins</code></td><td>æ‰€æœ‰æ’ä»¶åŠ è½½å®Œæˆï¼Œå¯å¼€å§‹ç›‘å¬åç»­ç¼–è¯‘äº‹ä»¶ã€‚</td></tr></tbody></table><h3 id="_2-ç¼–è¯‘é˜¶æ®µ-æ¨¡å—å¤„ç†" tabindex="-1">ï¼ˆ2ï¼‰ç¼–è¯‘é˜¶æ®µï¼ˆæ¨¡å—å¤„ç†ï¼‰ <a class="header-anchor" href="#_2-ç¼–è¯‘é˜¶æ®µ-æ¨¡å—å¤„ç†" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰ç¼–è¯‘é˜¶æ®µï¼ˆæ¨¡å—å¤„ç†ï¼‰&quot;">â€‹</a></h3><p>ç¼–è¯‘é˜¶æ®µæ˜¯ Webpack æœ€æ ¸å¿ƒçš„ç¯èŠ‚ï¼Œé€šè¿‡ <code>Compilation</code> å¯¹è±¡ç®¡ç†æ¨¡å—è½¬æ¢å’Œä¾èµ–åˆ†æï¼š</p><table tabindex="0"><thead><tr><th>äº‹ä»¶å</th><th>è§¦å‘æ—¶æœºä¸ä½œç”¨</th></tr></thead><tbody><tr><td><code>compile</code></td><td>å¼€å§‹åˆ›å»º Compilation å®ä¾‹ï¼Œå‡†å¤‡è¿›å…¥æ¨¡å—ç¼–è¯‘æµç¨‹ã€‚</td></tr><tr><td><code>compilation</code></td><td>Compilation å®ä¾‹åˆ›å»ºå®Œæˆï¼Œå¯é€šè¿‡ <code>compilation.modules</code> è®¿é—®æ¨¡å—åˆ—è¡¨ã€‚</td></tr><tr><td><code>build-module</code></td><td>è°ƒç”¨ Loader è½¬æ¢æ¨¡å—å†…å®¹ï¼ˆå¦‚ <code>babel-loader</code> è½¬è¯‘ ES6+ï¼‰ã€‚</td></tr><tr><td><code>normal-module-loader</code></td><td>è§£æè½¬æ¢åçš„æ¨¡å—å†…å®¹ä¸º ASTï¼Œåˆ†æ <code>import</code>/<code>require</code> è¯­å¥æ”¶é›†ä¾èµ–ã€‚</td></tr><tr><td><code>seal</code></td><td>æ‰€æœ‰æ¨¡å—è§£æå®Œæˆï¼Œå¼€å§‹æ ¹æ®ä¾èµ–å…³ç³»ç”Ÿæˆ Chunkï¼ˆå¦‚åˆå¹¶å…¬å…±æ¨¡å—ã€åˆ†å‰²å¼‚æ­¥æ¨¡å—ï¼‰ã€‚</td></tr></tbody></table><h3 id="_3-è¾“å‡ºé˜¶æ®µ-èµ„æºç”Ÿæˆ" tabindex="-1">ï¼ˆ3ï¼‰è¾“å‡ºé˜¶æ®µï¼ˆèµ„æºç”Ÿæˆï¼‰ <a class="header-anchor" href="#_3-è¾“å‡ºé˜¶æ®µ-èµ„æºç”Ÿæˆ" aria-label="Permalink to &quot;ï¼ˆ3ï¼‰è¾“å‡ºé˜¶æ®µï¼ˆèµ„æºç”Ÿæˆï¼‰&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>äº‹ä»¶å</th><th>è§¦å‘æ—¶æœºä¸ä½œç”¨</th></tr></thead><tbody><tr><td><code>emit</code></td><td>å³å°†è¾“å‡ºèµ„æºåˆ°æ–‡ä»¶ç³»ç»Ÿï¼Œå¯æœ€åä¿®æ”¹ <code>compilation.assets</code>ï¼ˆå¦‚æ·»åŠ ç‰ˆæƒæ³¨é‡Šï¼‰ã€‚</td></tr><tr><td><code>after-emit</code></td><td>èµ„æºå·²å†™å…¥ç£ç›˜ï¼Œå¯æ‰§è¡Œåç»­æ“ä½œï¼ˆå¦‚ä¸Šä¼  CDNï¼‰ã€‚</td></tr><tr><td><code>done</code></td><td>æ•´ä¸ªæ„å»ºæµç¨‹å®Œæˆï¼Œå¯è·å–æ„å»ºç»Ÿè®¡ä¿¡æ¯ï¼ˆå¦‚æ„å»ºæ—¶é—´ã€è¾“å‡ºæ–‡ä»¶åˆ—è¡¨ï¼‰ã€‚</td></tr><tr><td><code>failed</code></td><td>æ„å»ºå¤±è´¥æ—¶è§¦å‘ï¼Œå¯æ•è·é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚æ¨¡å—è§£æå¤±è´¥ã€Loader å¼‚å¸¸ï¼‰ã€‚</td></tr></tbody></table><h2 id="ä¸‰ã€æ¨¡å—è§£æä¸ä¾èµ–ç®¡ç†" tabindex="-1">ä¸‰ã€æ¨¡å—è§£æä¸ä¾èµ–ç®¡ç† <a class="header-anchor" href="#ä¸‰ã€æ¨¡å—è§£æä¸ä¾èµ–ç®¡ç†" aria-label="Permalink to &quot;ä¸‰ã€æ¨¡å—è§£æä¸ä¾èµ–ç®¡ç†&quot;">â€‹</a></h2><h3 id="_1-æ¨¡å—è·¯å¾„è§£ææœºåˆ¶" tabindex="-1">1. æ¨¡å—è·¯å¾„è§£ææœºåˆ¶ <a class="header-anchor" href="#_1-æ¨¡å—è·¯å¾„è§£ææœºåˆ¶" aria-label="Permalink to &quot;1. æ¨¡å—è·¯å¾„è§£ææœºåˆ¶&quot;">â€‹</a></h3><p>Webpack è§£ææ¨¡å—è·¯å¾„çš„æµç¨‹ç±»ä¼¼ Node.js çš„ <code>require.resolve</code>ï¼Œä½†æ›´çµæ´»ï¼ˆæ”¯æŒåˆ«åã€æ‰©å±•åè‡ªåŠ¨è¡¥å…¨ï¼‰ï¼š</p><div class="language-mermaid vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph LR</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    A[è§£æå…¥å£] --&gt; B{è¾“å…¥è·¯å¾„ç±»å‹}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    B --&gt;|ç›¸å¯¹è·¯å¾„| C[åŸºäºå½“å‰æ–‡ä»¶ç›®å½•è§£æ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    B --&gt;|æ¨¡å—è·¯å¾„| D[æŸ¥æ‰¾ node_modules ç›®å½•]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    B --&gt;|ç»å¯¹è·¯å¾„| E[ç›´æ¥éªŒè¯æ–‡ä»¶å­˜åœ¨æ€§]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    B --&gt;|åˆ«åè·¯å¾„| F[é€šè¿‡ resolve.alias æ˜ å°„]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    C --&gt; G[å°è¯•è¡¥å…¨æ‰©å±•å]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    D --&gt; H[è¯»å– package.json çš„ main/exports å­—æ®µ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    F --&gt; C</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    G --&gt; I[æ£€æŸ¥æ–‡ä»¶/ç›®å½•å­˜åœ¨æ€§]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    H --&gt; I</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    I --&gt;|å­˜åœ¨| J[è¿”å›ç»å¯¹è·¯å¾„]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    I --&gt;|ä¸å­˜åœ¨| K[æŠ›å‡ºæ¨¡å—æœªæ‰¾åˆ°é”™è¯¯]</span></span></code></pre></div><p><strong>å…³é”®é…ç½®</strong>ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// webpack.config.js</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolve: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    extensions: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.jsx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.ts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è‡ªåŠ¨è¡¥å…¨æ‰©å±•å</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    alias: { </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;@&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;src&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) }, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·¯å¾„åˆ«å</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    modules: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node_modules&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./src/components&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ¨¡å—æŸ¥æ‰¾ç›®å½•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="_2-ä¾èµ–å›¾æ„å»ºè¿‡ç¨‹" tabindex="-1">2. ä¾èµ–å›¾æ„å»ºè¿‡ç¨‹ <a class="header-anchor" href="#_2-ä¾èµ–å›¾æ„å»ºè¿‡ç¨‹" aria-label="Permalink to &quot;2. ä¾èµ–å›¾æ„å»ºè¿‡ç¨‹&quot;">â€‹</a></h3><p>Webpack é€šè¿‡ <strong>AST é™æ€åˆ†æ</strong> è¯†åˆ«æ¨¡å—ä¾èµ–ï¼Œé€’å½’æ„å»ºå®Œæ•´ä¾èµ–å›¾ï¼š</p><ol><li><strong>å…¥å£è§£æ</strong>ï¼šä» <code>entry</code> å‡ºå‘ï¼Œè¯»å–æ–‡ä»¶å†…å®¹å¹¶è§£æä¸º ASTï¼ˆä½¿ç”¨ <code>acorn</code> åº“ï¼‰ã€‚</li><li><strong>ä¾èµ–æå–</strong>ï¼šéå† ASTï¼Œè¯†åˆ« <code>import</code>/<code>require</code> è¯­å¥ï¼Œè®°å½•ä¾èµ–è·¯å¾„ã€‚</li><li><strong>é€’å½’å¤„ç†</strong>ï¼šå¯¹æ¯ä¸ªä¾èµ–è·¯å¾„é‡å¤æ­¥éª¤ 1-2ï¼Œç›´åˆ°æ‰€æœ‰æ¨¡å—è§£æå®Œæˆã€‚</li><li><strong>æ„å»ºå®Œæˆ</strong>ï¼šç”Ÿæˆä»¥å…¥å£ä¸ºæ ¹èŠ‚ç‚¹çš„ä¾èµ–å›¾ï¼ˆ<code>module.dependencies</code>ï¼‰ã€‚</li></ol><p><strong>ç®€åŒ–å®ç°ç¤ºä¾‹</strong>ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> buildDependencyGraph</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">entry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> graph</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> queue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [entry];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (queue.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> modulePath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> queue.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shift</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 1. è¯»å–æ¨¡å—å†…å®¹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> content</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(modulePath, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;utf-8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 2. è§£æ AST æå–ä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dependencies</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> parseImports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(content);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    graph[modulePath] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dependencies;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 3. é€’å½’å¤„ç†æœªè§£æçš„ä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dependencies.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">dep</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph[dep]) queue.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dep);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> graph;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="å››ã€ç¼–è¯‘ä¸è¾“å‡ºæ ¸å¿ƒåŸç†" tabindex="-1">å››ã€ç¼–è¯‘ä¸è¾“å‡ºæ ¸å¿ƒåŸç† <a class="header-anchor" href="#å››ã€ç¼–è¯‘ä¸è¾“å‡ºæ ¸å¿ƒåŸç†" aria-label="Permalink to &quot;å››ã€ç¼–è¯‘ä¸è¾“å‡ºæ ¸å¿ƒåŸç†&quot;">â€‹</a></h2><h3 id="_1-æ¨¡å—ç¼–è¯‘æµæ°´çº¿" tabindex="-1">1. æ¨¡å—ç¼–è¯‘æµæ°´çº¿ <a class="header-anchor" href="#_1-æ¨¡å—ç¼–è¯‘æµæ°´çº¿" aria-label="Permalink to &quot;1. æ¨¡å—ç¼–è¯‘æµæ°´çº¿&quot;">â€‹</a></h3><p>å•ä¸ªæ¨¡å—çš„ç¼–è¯‘è¿‡ç¨‹æ˜¯ <strong>Loader é“¾å¼è½¬æ¢</strong> + <strong>ä¾èµ–æå–</strong> çš„ç»„åˆï¼š</p><div class="language-mermaid vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sequenceDiagram</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    participant åŸå§‹æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    participant Loader1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    participant Loader2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    participant Webpack</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    participant ä¾èµ–å›¾</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    åŸå§‹æ–‡ä»¶-&gt;&gt;Loader1: è¾“å…¥åŸå§‹å†…å®¹ï¼ˆå¦‚ .scssï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Loader1-&gt;&gt;Loader2: è½¬æ¢åå†…å®¹ï¼ˆå¦‚ .cssï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Loader2-&gt;&gt;Webpack: æœ€ç»ˆå†…å®¹ï¼ˆå¦‚ CSS-in-JSï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Webpack-&gt;&gt;Webpack: è§£æ AST æå–ä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Webpack-&gt;&gt;ä¾èµ–å›¾: è®°å½•æ¨¡å—ä¾èµ–å…³ç³»</span></span></code></pre></div><p><strong>ç¤ºä¾‹</strong>ï¼šSCSS æ–‡ä»¶ç¼–è¯‘æµç¨‹</p><p><code>style.scss</code> â†’ <code>sass-loader</code>ï¼ˆSCSSâ†’CSSï¼‰â†’ <code>css-loader</code>ï¼ˆè§£æ <code>@import</code>ï¼‰â†’ <code>style-loader</code>ï¼ˆCSSâ†’JS è„šæœ¬ï¼Œæ³¨å…¥ <code>&lt;style&gt;</code>ï¼‰ã€‚</p><h3 id="_2-è¾“å‡ºæ–‡ä»¶ç»“æ„è§£æ" tabindex="-1">2. è¾“å‡ºæ–‡ä»¶ç»“æ„è§£æ <a class="header-anchor" href="#_2-è¾“å‡ºæ–‡ä»¶ç»“æ„è§£æ" aria-label="Permalink to &quot;2. è¾“å‡ºæ–‡ä»¶ç»“æ„è§£æ&quot;">â€‹</a></h3><p>Webpack è¾“å‡ºçš„ <code>bundle.js</code> æ˜¯ä¸€ä¸ª <strong>è‡ªæ‰§è¡Œå‡½æ•°ï¼ˆIIFEï¼‰</strong>ï¼Œé€šè¿‡è‡ªå®šä¹‰æ¨¡å—åŠ è½½å™¨æ¨¡æ‹Ÿ Node.js æ¨¡å—ç³»ç»Ÿï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç®€åŒ–çš„ bundle.js ç»“æ„</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">modules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 1. æ¨¡å—ç¼“å­˜ï¼ˆé¿å…é‡å¤æ‰§è¡Œï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> installedModules</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 2. æ¨¡æ‹Ÿ require å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> __webpack_require__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">moduleId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (installedModules[moduleId]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> installedModules[moduleId].exports;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // åˆå§‹åŒ–æ¨¡å—å¹¶æ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> module</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> installedModules[moduleId] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      exports: {}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    modules[moduleId].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, __webpack_require__);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 3. æ‰§è¡Œå…¥å£æ¨¡å—</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> __webpack_require__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})([</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ¨¡å—æ•°ç»„ï¼ˆæ¯ä¸ªæ¨¡å—æ˜¯ä¸€ä¸ªå‡½æ•°ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">exports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">__webpack_require__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å¼•å…¥ä¾èµ–ï¼ˆå¯¹åº”æ¨¡å—æ•°ç»„ç´¢å¼• 1ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> utils</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> __webpack_require__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* æ¨¡å—å†…å®¹ */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">exports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å·¥å…·æ¨¡å—å†…å®¹</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {} };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span></code></pre></div><h3 id="_3-ä»£ç åˆ†å‰²-code-splitting-åŸç†" tabindex="-1">3. ä»£ç åˆ†å‰²ï¼ˆCode Splittingï¼‰åŸç† <a class="header-anchor" href="#_3-ä»£ç åˆ†å‰²-code-splitting-åŸç†" aria-label="Permalink to &quot;3. ä»£ç åˆ†å‰²ï¼ˆCode Splittingï¼‰åŸç†&quot;">â€‹</a></h3><p>Webpack æ”¯æŒé€šè¿‡ <code>import()</code> åŠ¨æ€å¯¼å…¥å®ç°ä»£ç åˆ†å‰²ï¼Œè¾“å‡ºç‹¬ç«‹ Chunkï¼š</p><ul><li><p><strong>åˆ†å‰²åæ–‡ä»¶ç»“æ„</strong>ï¼š</p><ul><li>ä¸»æ–‡ä»¶ <code>main.js</code>ï¼šåŒ…å«å…¥å£æ¨¡å—å’ŒåŠ è½½é€»è¾‘ã€‚</li><li>å¼‚æ­¥ Chunkï¼ˆå¦‚ <code>1.js</code>ï¼‰ï¼šåŒ…å«åŠ¨æ€å¯¼å…¥çš„æ¨¡å—ã€‚</li></ul></li><li><p><strong>åŠ¨æ€å¯¼å…¥è½¬æ¢åŸç†</strong>ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æºç </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./utils&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">utils</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> utils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è½¬æ¢å</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">__webpack_require__.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* chunkId */</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__webpack_require__.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* æ¨¡å—ID */</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">utils</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> utils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span></code></pre></div><p>å…¶ä¸­ <code>__webpack_require__.e</code> è´Ÿè´£åŠ¨æ€åŠ è½½ Chunkï¼ˆåˆ›å»º <code>&lt;script&gt;</code> æ ‡ç­¾ï¼‰ï¼ŒåŠ è½½å®Œæˆåé€šè¿‡ <code>webpackJsonp</code> æ³¨å†Œæ¨¡å—ã€‚</p></li></ul><h2 id="äº”ã€loader-å¼€å‘å®æˆ˜" tabindex="-1">äº”ã€Loader å¼€å‘å®æˆ˜ <a class="header-anchor" href="#äº”ã€loader-å¼€å‘å®æˆ˜" aria-label="Permalink to &quot;äº”ã€Loader å¼€å‘å®æˆ˜&quot;">â€‹</a></h2><h3 id="_1-loader-åŸºç¡€è§„èŒƒ" tabindex="-1">1. Loader åŸºç¡€è§„èŒƒ <a class="header-anchor" href="#_1-loader-åŸºç¡€è§„èŒƒ" aria-label="Permalink to &quot;1. Loader åŸºç¡€è§„èŒƒ&quot;">â€‹</a></h3><ul><li><strong>å•ä¸€èŒè´£</strong>ï¼šä¸€ä¸ª Loader åªåšä¸€ä»¶äº‹ï¼ˆå¦‚ <code>sass-loader</code> åªè½¬è¯‘ SCSSâ†’CSSï¼‰ã€‚</li><li><strong>é“¾å¼æ‰§è¡Œ</strong>ï¼šä»å³åˆ°å·¦æ‰§è¡Œï¼ˆå¦‚ <code>use: [&#39;style-loader&#39;, &#39;css-loader&#39;]</code> å®é™…æ‰§è¡Œé¡ºåºä¸º <code>css-loader</code> â†’ <code>style-loader</code>ï¼‰ã€‚</li><li><strong>åŒæ­¥/å¼‚æ­¥</strong>ï¼šæ”¯æŒåŒæ­¥è¿”å›æˆ–å¼‚æ­¥å›è°ƒï¼ˆå¤æ‚æ“ä½œå¦‚ç½‘ç»œè¯·æ±‚éœ€ç”¨å¼‚æ­¥ï¼‰ã€‚</li></ul><h3 id="_2-åŸºç¡€-loader-ç¤ºä¾‹" tabindex="-1">2. åŸºç¡€ Loader ç¤ºä¾‹ <a class="header-anchor" href="#_2-åŸºç¡€-loader-ç¤ºä¾‹" aria-label="Permalink to &quot;2. åŸºç¡€ Loader ç¤ºä¾‹&quot;">â€‹</a></h3><p><strong>éœ€æ±‚</strong>ï¼šå¼€å‘ä¸€ä¸ª <code>comment-require-loader</code>ï¼Œå°†æ³¨é‡Šä¸­çš„ <code>// @require &#39;./style.css&#39;</code> è½¬æ¢ä¸º <code>require(&#39;./style.css&#39;)</code>ã€‚</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// comment-require-loader.js</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">source</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ­£åˆ™åŒ¹é…æ³¨é‡Šä¸­çš„ @require è¯­å¥</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> regex</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">(</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">/</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">/</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">@require</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">)(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">[&#39;&quot;]</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">)(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+?</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">)</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">g</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ›¿æ¢ä¸º require è¯­å¥</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> source.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(regex, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;require($2$3$2);&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p><strong>ä½¿ç”¨é…ç½®</strong>ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// webpack.config.js</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  module: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    rules: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        test:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">js</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        use: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./loaders/comment-require-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="_3-è¿›é˜¶-loader-æŠ€å·§" tabindex="-1">3. è¿›é˜¶ Loader æŠ€å·§ <a class="header-anchor" href="#_3-è¿›é˜¶-loader-æŠ€å·§" aria-label="Permalink to &quot;3. è¿›é˜¶ Loader æŠ€å·§&quot;">â€‹</a></h3><ul><li><p><strong>è·å–é…ç½®å‚æ•°</strong>ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> loaderUtils</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;loader-utils&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">source</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> loaderUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å– options</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> source.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;{{name}}&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, options.name);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div></li><li><p><strong>è¿”å› SourceMap</strong>ï¼ˆæ–¹ä¾¿è°ƒè¯•ï¼‰ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">source</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // è½¬æ¢é€»è¾‘...</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, transformedSource, sourceMap); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¤šå€¼è¿”å›</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¿…é¡»è¿”å› undefined</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div></li></ul><h2 id="å…­ã€plugin-å¼€å‘å®æˆ˜" tabindex="-1">å…­ã€Plugin å¼€å‘å®æˆ˜ <a class="header-anchor" href="#å…­ã€plugin-å¼€å‘å®æˆ˜" aria-label="Permalink to &quot;å…­ã€Plugin å¼€å‘å®æˆ˜&quot;">â€‹</a></h2><h3 id="_1-plugin-å·¥ä½œåŸç†" tabindex="-1">1. Plugin å·¥ä½œåŸç† <a class="header-anchor" href="#_1-plugin-å·¥ä½œåŸç†" aria-label="Permalink to &quot;1. Plugin å·¥ä½œåŸç†&quot;">â€‹</a></h3><p>Plugin é€šè¿‡ç›‘å¬ Webpack äº‹ä»¶é’©å­ä»‹å…¥æ„å»ºæµç¨‹ï¼Œæ ¸å¿ƒæ˜¯ <code>Compiler</code> å’Œ <code>Compilation</code> å¯¹è±¡ï¼š</p><ul><li><strong>Compiler</strong>ï¼šå…¨å±€å”¯ä¸€ï¼ŒåŒ…å«æ„å»ºå…¨ç”Ÿå‘½å‘¨æœŸé’©å­ï¼ˆå¦‚ <code>run</code>ã€<code>emit</code>ã€<code>done</code>ï¼‰ã€‚</li><li><strong>Compilation</strong>ï¼šå•æ¬¡ç¼–è¯‘ä¸Šä¸‹æ–‡ï¼ŒåŒ…å«å½“å‰ç¼–è¯‘çš„æ¨¡å—ã€Chunkã€èµ„æºï¼Œé’©å­æ›´ç»†ç²’åº¦ï¼ˆå¦‚ <code>build-module</code>ã€<code>seal</code>ï¼‰ã€‚</li></ul><h3 id="_2-åŸºç¡€-plugin-ç¤ºä¾‹" tabindex="-1">2. åŸºç¡€ Plugin ç¤ºä¾‹ <a class="header-anchor" href="#_2-åŸºç¡€-plugin-ç¤ºä¾‹" aria-label="Permalink to &quot;2. åŸºç¡€ Plugin ç¤ºä¾‹&quot;">â€‹</a></h3><p><strong>éœ€æ±‚</strong>ï¼šå¼€å‘ä¸€ä¸ª <code>CopyrightPlugin</code>ï¼Œåœ¨è¾“å‡ºçš„ JS æ–‡ä»¶é¡¶éƒ¨æ·»åŠ ç‰ˆæƒæ³¨é‡Šã€‚</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// CopyrightPlugin.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CopyrightPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.year </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> options.year </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getFullYear</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  apply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">compiler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç›‘å¬ emit äº‹ä»¶ï¼ˆè¾“å‡ºå‰æœ€åä¸€æ­¥ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    compiler.hooks.emit.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;CopyrightPlugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">compilation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // éå†æ‰€æœ‰è¾“å‡ºèµ„æº</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(compilation.assets).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">filename</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">js</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(filename)) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> asset</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> compilation.assets[filename];</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          // è·å–åŸå†…å®¹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> source</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> asset.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">source</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          // æ·»åŠ ç‰ˆæƒæ³¨é‡Š</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> withCopyright</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `/* Copyright Â© ${</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">year</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} My Company */</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">n${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          // æ›´æ–°èµ„æº</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          compilation.assets[filename] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            source</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> withCopyright,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> withCopyright.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CopyrightPlugin;</span></span></code></pre></div><p><strong>ä½¿ç”¨é…ç½®</strong>ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// webpack.config.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> CopyrightPlugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./plugins/CopyrightPlugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CopyrightPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ year: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="_2-å¸¸ç”¨äº‹ä»¶é’©å­" tabindex="-1">2. å¸¸ç”¨äº‹ä»¶é’©å­ <a class="header-anchor" href="#_2-å¸¸ç”¨äº‹ä»¶é’©å­" aria-label="Permalink to &quot;2. å¸¸ç”¨äº‹ä»¶é’©å­&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>é’©å­å</th><th>è§¦å‘æ—¶æœº</th><th>å¸¸ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>emit</code></td><td>å³å°†è¾“å‡ºèµ„æºåˆ°ç£ç›˜</td><td>ä¿®æ”¹è¾“å‡ºå†…å®¹ï¼ˆå¦‚æ·»åŠ æ³¨é‡Šã€å‹ç¼©ï¼‰</td></tr><tr><td><code>done</code></td><td>æ„å»ºå®Œæˆ</td><td>è¾“å‡ºæ„å»ºæŠ¥å‘Šã€å‘é€é€šçŸ¥</td></tr><tr><td><code>compile</code></td><td>å¼€å§‹ç¼–è¯‘</td><td>åˆå§‹åŒ–è‡ªå®šä¹‰ç¼–è¯‘é€»è¾‘</td></tr><tr><td><code>compilation</code></td><td>Compilation å®ä¾‹åˆ›å»ºå</td><td>å¤„ç†æ¨¡å—å’Œ Chunk</td></tr></tbody></table><h2 id="ä¸ƒã€æ€§èƒ½ä¼˜åŒ–åŸç†" tabindex="-1">ä¸ƒã€æ€§èƒ½ä¼˜åŒ–åŸç† <a class="header-anchor" href="#ä¸ƒã€æ€§èƒ½ä¼˜åŒ–åŸç†" aria-label="Permalink to &quot;ä¸ƒã€æ€§èƒ½ä¼˜åŒ–åŸç†&quot;">â€‹</a></h2><h3 id="_1-æ„å»ºé€Ÿåº¦ä¼˜åŒ–" tabindex="-1">1. æ„å»ºé€Ÿåº¦ä¼˜åŒ– <a class="header-anchor" href="#_1-æ„å»ºé€Ÿåº¦ä¼˜åŒ–" aria-label="Permalink to &quot;1. æ„å»ºé€Ÿåº¦ä¼˜åŒ–&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>ä¼˜åŒ–æ‰‹æ®µ</th><th>åŸç†ä¸é…ç½®ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>ç¼“å­˜ Loader ç»“æœ</strong></td><td>é¿å…é‡å¤ç¼–è¯‘ï¼Œé€šè¿‡ <code>cacheDirectory</code> å¯ç”¨ï¼š<br><code>use: [&#39;babel-loader?cacheDirectory&#39;]</code></td></tr><tr><td><strong>å¤šè¿›ç¨‹ç¼–è¯‘</strong></td><td>åˆ©ç”¨ <code>thread-loader</code> å°† Loader æ”¾å…¥ Worker è¿›ç¨‹æ‰§è¡Œï¼ˆCPU å¯†é›†å‹ä»»åŠ¡æœ‰æ•ˆï¼‰ï¼š<br><code>use: [&#39;thread-loader&#39;, &#39;babel-loader&#39;]</code></td></tr><tr><td><strong>ç¼©å°å¤„ç†èŒƒå›´</strong></td><td>é€šè¿‡ <code>include</code>/<code>exclude</code> é™åˆ¶ Loader å¤„ç†ç›®å½•ï¼š<br><code>include: path.resolve(__dirname, &#39;src&#39;)</code></td></tr><tr><td><strong>å¯ç”¨æŒä¹…åŒ–ç¼“å­˜</strong></td><td>Webpack 5+ æ”¯æŒ <code>cache: { type: &#39;filesystem&#39; }</code>ï¼Œè·¨æ„å»ºç¼“å­˜ç»“æœã€‚</td></tr></tbody></table><h3 id="_2-è¾“å‡ºä½“ç§¯ä¼˜åŒ–" tabindex="-1">2. è¾“å‡ºä½“ç§¯ä¼˜åŒ– <a class="header-anchor" href="#_2-è¾“å‡ºä½“ç§¯ä¼˜åŒ–" aria-label="Permalink to &quot;2. è¾“å‡ºä½“ç§¯ä¼˜åŒ–&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>ä¼˜åŒ–æ‰‹æ®µ</th><th>åŸç†ä¸é…ç½®ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>Tree-Shaking</strong></td><td>ç§»é™¤æœªä½¿ç”¨ä»£ç ï¼ˆéœ€ ES æ¨¡å— + <code>mode: &#39;production&#39;</code>ï¼‰ï¼š<br><code>optimization: { usedExports: true }</code></td></tr><tr><td><strong>ä»£ç åˆ†å‰²</strong></td><td>æå–å…¬å…±ä»£ç /ç¬¬ä¸‰æ–¹åº“ï¼š<br><code>splitChunks: { chunks: &#39;all&#39;, cacheGroups: { vendors: { test: /node_modules/ } } }</code></td></tr><tr><td><strong>å‹ç¼©ä»£ç </strong></td><td>Webpack 5 å†…ç½® Terser å‹ç¼© JSï¼ŒCSS éœ€ <code>css-minimizer-webpack-plugin</code>ã€‚</td></tr><tr><td><strong>å›¾ç‰‡å‹ç¼©</strong></td><td>ä½¿ç”¨ <code>image-webpack-loader</code> å‹ç¼©å›¾ç‰‡ï¼š<br><code>use: [&#39;file-loader&#39;, &#39;image-webpack-loader&#39;]</code></td></tr></tbody></table><h2 id="å…«ã€è°ƒè¯•ä¸è¿›é˜¶æŠ€å·§" tabindex="-1">å…«ã€è°ƒè¯•ä¸è¿›é˜¶æŠ€å·§ <a class="header-anchor" href="#å…«ã€è°ƒè¯•ä¸è¿›é˜¶æŠ€å·§" aria-label="Permalink to &quot;å…«ã€è°ƒè¯•ä¸è¿›é˜¶æŠ€å·§&quot;">â€‹</a></h2><h3 id="_1-webpack-è°ƒè¯•æ–¹æ³•" tabindex="-1">1. Webpack è°ƒè¯•æ–¹æ³• <a class="header-anchor" href="#_1-webpack-è°ƒè¯•æ–¹æ³•" aria-label="Permalink to &quot;1. Webpack è°ƒè¯•æ–¹æ³•&quot;">â€‹</a></h3><ul><li><strong>å‘½ä»¤è¡Œåˆ†æ</strong>ï¼š<code>webpack --profile --json &gt; stats.json</code> ç”Ÿæˆæ„å»ºç»Ÿè®¡ï¼Œé€šè¿‡ <a href="https://github.com/webpack-contrib/webpack-bundle-analyzer" target="_blank" rel="noreferrer">webpack-bundle-analyzer</a> å¯è§†åŒ–åˆ†æã€‚</li><li><strong>æ–­ç‚¹è°ƒè¯•</strong>ï¼šåœ¨ WebStorm ä¸­é…ç½® Node.js è¿è¡Œé…ç½®ï¼Œå…¥å£ä¸º <code>node_modules/webpack/bin/webpack.js</code>ï¼Œè®¾ç½®æ–­ç‚¹è°ƒè¯•æ’ä»¶/Loader é€»è¾‘ã€‚</li><li><strong>æ—¥å¿—è¾“å‡º</strong>ï¼šé€šè¿‡ <code>compiler.hooks.*.tap</code> æ‰“å°å…³é”®ä¿¡æ¯ï¼Œå¦‚æ¨¡å—è§£æè·¯å¾„ã€æ„å»ºæ—¶é—´ã€‚</li></ul><h3 id="_2-é«˜çº§ç‰¹æ€§-æ¨¡å—è”é‚¦-module-federation" tabindex="-1">2. é«˜çº§ç‰¹æ€§ï¼šæ¨¡å—è”é‚¦ï¼ˆModule Federationï¼‰ <a class="header-anchor" href="#_2-é«˜çº§ç‰¹æ€§-æ¨¡å—è”é‚¦-module-federation" aria-label="Permalink to &quot;2. é«˜çº§ç‰¹æ€§ï¼šæ¨¡å—è”é‚¦ï¼ˆModule Federationï¼‰&quot;">â€‹</a></h3><p>Webpack 5 å¼•å…¥çš„æ¨¡å—è”é‚¦å¯å®ç°è·¨åº”ç”¨å…±äº«æ¨¡å—ï¼ˆå¾®å‰ç«¯æ ¸å¿ƒæ–¹æ¡ˆï¼‰ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¿œç¨‹åº”ç”¨é…ç½®ï¼ˆæš´éœ²æ¨¡å—ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ModuleFederationPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;remoteApp&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  filename: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;remoteEntry.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  exposes: { </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./Button&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./src/Button&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æš´éœ² Button ç»„ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å®¿ä¸»åº”ç”¨é…ç½®ï¼ˆæ¶ˆè´¹æ¨¡å—ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ModuleFederationPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hostApp&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  remotes: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    remoteApp: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;remoteApp@&lt;http://localhost:3001/remoteEntry.js&gt;&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å®¿ä¸»åº”ç”¨ä¸­ä½¿ç”¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Button </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;remoteApp/Button&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç›´æ¥ä½¿ç”¨è¿œç¨‹æ¨¡å—</span></span></code></pre></div><h2 id="ä¹ã€æ€»ç»“" tabindex="-1">ä¹ã€æ€»ç»“ <a class="header-anchor" href="#ä¹ã€æ€»ç»“" aria-label="Permalink to &quot;ä¹ã€æ€»ç»“&quot;">â€‹</a></h2><p>Webpack çš„å¼ºå¤§ä¹‹å¤„åœ¨äºå…¶ <strong>çµæ´»çš„æ’ä»¶ç³»ç»Ÿ</strong> å’Œ <strong>æ¨¡å—åŒ–æ¶æ„</strong>ï¼š</p><ul><li>ä½œä¸ºå¼€å‘è€…ï¼Œç†è§£å…¶å·¥ä½œæµç¨‹ï¼ˆåˆå§‹åŒ–â†’ç¼–è¯‘â†’è¾“å‡ºï¼‰å’Œæ ¸å¿ƒå¯¹è±¡ï¼ˆ<code>Compiler</code>/<code>Compilation</code>ï¼‰æ˜¯è‡ªå®šä¹‰æ‰©å±•çš„åŸºç¡€ã€‚</li><li>åˆç†åˆ©ç”¨ä»£ç åˆ†å‰²ã€ç¼“å­˜ç­–ç•¥ç­‰ç‰¹æ€§ï¼Œå¯æ˜¾è‘—æå‡é¡¹ç›®æ€§èƒ½ã€‚</li><li>éšç€ Webpack 5+ å¯¹ ESMã€æŒä¹…åŒ–ç¼“å­˜ã€æ¨¡å—è”é‚¦çš„æ”¯æŒï¼Œå…¶åœ¨ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–ä¸­çš„æ ¸å¿ƒåœ°ä½ä»å°†æŒç»­å·©å›ºã€‚</li></ul><p>é€šè¿‡æ·±å…¥åŸç†ï¼Œä¸ä»…èƒ½æ›´å¥½åœ°è§£å†³æ—¥å¸¸å¼€å‘ä¸­çš„æ„å»ºé—®é¢˜ï¼Œè¿˜èƒ½æ ¹æ®éœ€æ±‚å®šåˆ¶å·¥å…·é“¾ï¼Œè®© Webpack çœŸæ­£æœåŠ¡äºé¡¹ç›®è€Œéæˆä¸ºè´Ÿæ‹…ã€‚</p><h2 id="é…ç½®é¡¹" tabindex="-1">é…ç½®é¡¹ <a class="header-anchor" href="#é…ç½®é¡¹" aria-label="Permalink to &quot;é…ç½®é¡¹&quot;">â€‹</a></h2><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> path;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> HtmlWebpackPlugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;html-webpack-plugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ¸…ç©ºæ‰“åŒ…äº§ç‰©æ’ä»¶</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CleanWebpackPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;clean-webpack-plugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">VueLoaderPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;vue-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// console.log(&#39;process.env.NODE_ENV=&#39;, process.env);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ†ç¦»cssæ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> MiniCssExtractPlugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mini-css-extract-plugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> webpack</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;webpack&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// const SpeedMeasurePlugin = require(&#39;speed-measure-webpack-plugin&#39;);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// const smp = new SpeedMeasurePlugin();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">argv</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> argv;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(argv);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> devMode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;prod&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    mode: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;none&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    entry: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./src/main&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    output: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      path: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dist&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      filename: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`js/[name]_[chunkhash:8].js`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      assetModuleFilename: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;images/[hash][ext][query]&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // output: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //   filename: &#39;bundle.js&#39;,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //   chunkFilename:&#39;[name].js&#39;,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //   path: path.join(__dirname, &#39;dist&#39;),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // },</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    devServer: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      port: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      compress: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨ gzip å‹ç¼©ä¼ è¾“é™æ€èµ„æºï¼Œä»¥å‡å°‘èµ„æºä¼ è¾“çš„å¤§å°ï¼Œæé«˜å¼€å‘ç¯å¢ƒä¸‹çš„å“åº”é€Ÿåº¦</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      static: path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;public&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    resolve: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      extensions: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.ts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    module: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      rules: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          test:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\.</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">vue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          use: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            loader: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;vue-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          test:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\.</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">js</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          exclude:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">node_modules</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          use: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            loader: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;babel-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          test:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\.</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">ts</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          use: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            loader: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ts-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          exclude:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">node_modules</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          test:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\.</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">tsx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          loader: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ts-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          test:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\.</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">css</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          use: [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // &#39;style-loader&#39;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            MiniCssExtractPlugin.loader,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &#39;css-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &#39;postcss-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          test:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\.</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">less</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          use: [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // &#39;style-loader&#39;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            MiniCssExtractPlugin.loader,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &#39;css-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &#39;less-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            &#39;postcss-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          test:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\.</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">png</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">jpg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">gif</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">svg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;asset/resource&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          generator: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            filename: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;img/[name]_[hash:8][ext][query]&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          parser: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            dataUrlCondition: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              maxSize: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //   test: /\.html/,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //   type: &#39;asset/resource&#39;,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //   generator: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //     filename: &#39;static/[hash][ext][query]&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //   }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    plugins: [</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CleanWebpackPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HtmlWebpackPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        template: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./public/index.html&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MiniCssExtractPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        filename: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;[name].[hash:8].css&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VueLoaderPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> webpack.ids.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DeterministicChunkIdsPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        maxLength: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¦†ç›–chunkIdsçš„é»˜è®¤3ä½æ•°å­—ï¼Œæ”¹ä¸º5ä½</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    devtool: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cheap-module-source-map&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    optimization: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // chunkIds: &#39;deterministic&#39;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      chunkIds: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      emitOnErrors: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      minimize: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      moduleIds: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;deterministic&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // splitChunks: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      //   chunks(chunk) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      //</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     // exclude `my-excluded-chunk`</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      //     return chunk.name !== &#39;vue&#39;;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      //   },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // splitChunks: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      //   cacheGroups: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      //     commons: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      //       test: /[\\/]node_modules[\\/]/,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      //       name: &#39;vendors&#39;,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      //       chunks: &#39;all&#39;,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      //     },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      //   },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      splitChunks: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        chunks: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;all&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        minSize: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        minRemainingSize: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        minChunks: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        maxAsyncRequests: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        maxInitialRequests: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        enforceSizeThreshold: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        cacheGroups: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          defaultVendors: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            test:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">[</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">/]</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">node_modules</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">[</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">/]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            priority: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            reuseExistingChunk: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;vender&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          default: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            minChunks: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            priority: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            reuseExistingChunk: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h2 id="tree-shakingåŸç†" tabindex="-1">tree-shakingåŸç† <a class="header-anchor" href="#tree-shakingåŸç†" aria-label="Permalink to &quot;tree-shakingåŸç†&quot;">â€‹</a></h2><blockquote><p>ğŸ’¡ å‚è€ƒæ–‡ç« ï¼š <a href="https://juejin.cn/post/7002410645316436004#heading-5" target="_blank" rel="noreferrer">https://juejin.cn/post/7002410645316436004#heading-5</a></p></blockquote><blockquote><p>éœ€äº†è§£usedExportsã€provideExportsã€sideEffectsä¹‹é—´çš„å…³ç³»ï¼›</p></blockquote><h3 id="sideeffectsä½¿ç”¨åœºæ™¯" tabindex="-1">sideEffectsä½¿ç”¨åœºæ™¯ <a class="header-anchor" href="#sideeffectsä½¿ç”¨åœºæ™¯" aria-label="Permalink to &quot;sideEffectsä½¿ç”¨åœºæ™¯&quot;">â€‹</a></h3><p>ä»¥ä¸‹æ˜¯ä¸€äº›éœ€è¦ä½¿ç”¨ <code>sideEffects</code> çš„åœºæ™¯ï¼š</p><ol><li><p><strong>æ¨¡å—å…·æœ‰å…¨å±€å‰¯ä½œç”¨</strong>ï¼š</p><ul><li>å¦‚æœä¸€ä¸ªæ¨¡å—ä¿®æ”¹äº†å…¨å±€å˜é‡æˆ–æ³¨å†Œäº†å…¨å±€äº‹ä»¶ç›‘å¬å™¨ï¼Œé‚£ä¹ˆå³ä½¿æ²¡æœ‰ä½¿ç”¨å®ƒçš„å¯¼å‡ºï¼Œè¯¥æ¨¡å—ä¹Ÿä¸åº”è¯¥è¢«ç§»é™¤ã€‚</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// example.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> someFunction</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;DOMContentLoaded&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello, world!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span></code></pre></div></li><li><p><strong>æ¨¡å—ä¿®æ”¹å¤–éƒ¨çŠ¶æ€</strong>ï¼š</p><ul><li>å¦‚æœä¸€ä¸ªæ¨¡å—ä¿®æ”¹äº†å¤–éƒ¨çŠ¶æ€ï¼ˆå¦‚ DOMã€æµè§ˆå™¨å­˜å‚¨ç­‰ï¼‰ï¼Œé‚£ä¹ˆå³ä½¿æ²¡æœ‰ä½¿ç”¨å®ƒçš„å¯¼å‡ºï¼Œè¯¥æ¨¡å—ä¹Ÿä¸åº”è¯¥è¢«ç§»é™¤ã€‚</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// example.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> someFunction</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">localStorage.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setItem</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;key&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;value&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div></li><li><p><strong>æ¨¡å—ä¾èµ–å¤–éƒ¨ç¯å¢ƒ</strong>ï¼š</p><ul><li>å¦‚æœä¸€ä¸ªæ¨¡å—ä¾èµ–äºå¤–éƒ¨ç¯å¢ƒï¼ˆå¦‚ Node.js çš„ <code>process</code> å¯¹è±¡ï¼‰ï¼Œé‚£ä¹ˆå³ä½¿æ²¡æœ‰ä½¿ç”¨å®ƒçš„å¯¼å‡ºï¼Œè¯¥æ¨¡å—ä¹Ÿä¸åº”è¯¥è¢«ç§»é™¤ã€‚</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// example.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> someFunction</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;production&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Production mode!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p><strong>æ¨¡å—æ‰§è¡Œäº†åˆå§‹åŒ–é€»è¾‘</strong>ï¼š</p><ul><li>å¦‚æœä¸€ä¸ªæ¨¡å—åœ¨å¯¼å…¥æ—¶æ‰§è¡Œäº†åˆå§‹åŒ–é€»è¾‘ï¼Œé‚£ä¹ˆå³ä½¿æ²¡æœ‰ä½¿ç”¨å®ƒçš„å¯¼å‡ºï¼Œè¯¥æ¨¡å—ä¹Ÿä¸åº”è¯¥è¢«ç§»é™¤ã€‚</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// example.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> someFunction</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Module initialized!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div></li><li><p><strong>æ¨¡å—ä¾èµ–äºå¤–éƒ¨æ–‡ä»¶æˆ–èµ„æº</strong>ï¼š</p><ul><li>å¦‚æœä¸€ä¸ªæ¨¡å—ä¾èµ–äºå¤–éƒ¨æ–‡ä»¶æˆ–èµ„æºï¼ˆå¦‚æ ·å¼è¡¨ã€å›¾ç‰‡ç­‰ï¼‰ï¼Œé‚£ä¹ˆå³ä½¿æ²¡æœ‰ä½¿ç”¨å®ƒçš„å¯¼å‡ºï¼Œè¯¥æ¨¡å—ä¹Ÿä¸åº”è¯¥è¢«ç§»é™¤ã€‚</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// example.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> someFunction</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./styles.css&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div></li></ol></div></div></main><footer class="VPDocFooter" data-v-3c57f0b8 data-v-6d502671><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"kPvclwhI\",\"notion_1.1.0.md\":\"Bqi9sYdO\",\"notion_babel.md\":\"D6zyZ8PE\",\"notion_basic _ extra.md\":\"DItQYweF\",\"notion_c__.md\":\"DFn_pEO5\",\"notion_commonjså’Œes module.md\":\"BIdPFJpO\",\"notion_css.md\":\"Do1dtXlc\",\"notion_dataä¸ºä»€ä¹ˆæ˜¯å‡½æ•°é—®é¢˜.md\":\"BKh0OGeP\",\"notion_dprå’Œè‡ªé€‚åº”å¸ƒå±€.md\":\"Cx0Rg0yj\",\"notion_eslint.md\":\"CiWEMe3_\",\"notion_git.md\":\"Ch4aw7Sn\",\"notion_html.md\":\"CLPK4Rqn\",\"notion_indexdb _ websql.md\":\"B85eol1a\",\"notion_javascript.md\":\"CC-7mG9j\",\"notion_let_ var.md\":\"C0-4-BSR\",\"notion_linuxå¸¸ç”¨å‘½ä»¤.md\":\"DAWs7vbn\",\"notion_loader.md\":\"CLBXJdrg\",\"notion_micro-app.md\":\"CEN7cuXK\",\"notion_node.md\":\"6-ej-rDZ\",\"notion_npm _ yarn _ pnpm.md\":\"Dcqb_XtS\",\"notion_performance.md\":\"Aeq8YUWP\",\"notion_prettier.md\":\"xKnQzWab\",\"notion_pythonæ•™ç¨‹.md\":\"U592zcgr\",\"notion_react.md\":\"Dbf8sn5Y\",\"notion_refåŸç†.md\":\"6rWmX1zE\",\"notion_rollup.md\":\"DDhYWT90\",\"notion_socket.md\":\"D5CmfHAS\",\"notion_tapable.md\":\"axNl_7Ea\",\"notion_tcp.md\":\"CWXuK57o\",\"notion_thisæŒ‡å‘ã€superå…³é”®å­—.md\":\"CUdAy-FD\",\"notion_tsconfig.md\":\"BSKlk_Wq\",\"notion_typescript.md\":\"C4X7Youn\",\"notion_vite.md\":\"BWEeaRZc\",\"notion_vue router.md\":\"Do9iR0ED\",\"notion_vue.md\":\"qESomWw1\",\"notion_vue2-diff.md\":\"wZYLQX36\",\"notion_vue3-diff.md\":\"CeN9OLxK\",\"notion_vuexä¸­åœ¨mutationä¸­ä½¿ç”¨å¼‚æ­¥.md\":\"Dnge1vFw\",\"notion_web api.md\":\"BV99FPgr\",\"notion_web component.md\":\"DJrcXaZY\",\"notion_webpack.md\":\"MWc_IdEO\",\"notion_webrtc.md\":\"ddxdeDGT\",\"notion_webå‰ç«¯ç›‘æ§.md\":\"CyYKNgYu\",\"notion_webæ€§èƒ½.md\":\"Bf0Zzi0p\",\"notion_worker.md\":\"CjjZFxzt\",\"notion_ä¸vueä¸åŒç‚¹.md\":\"B8JakZ5i\",\"notion_ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾.md\":\"Ccr8sg0U\",\"notion_å‰ç«¯é¢è¯•.md\":\"DHsyMrwg\",\"notion_åŸå‹å’ŒåŸå‹é“¾.md\":\"CC801mHH\",\"notion_åƒåœ¾å›æ”¶æœºåˆ¶.md\":\"DBRA5oEl\",\"notion_å¥½çœ‹çš„æ»šåŠ¨æ¡æ ·å¼.md\":\"CScD_Qsz\",\"notion_å¯¹è±¡è½¬ä¸ºå¯è¿­ä»£å¯¹è±¡.md\":\"V3NyEI7V\",\"notion_å·¥ä½œè®°å½•.md\":\"BEv8FHVu\",\"notion_å·¥ç¨‹åŒ–_æ¨¡å—åŒ–.md\":\"BoA5jlE8\",\"notion_å¸¸ç”¨é’©å­.md\":\"Du1t4S1z\",\"notion_å¼€å‘æ³¨æ„äº‹é¡¹.md\":\"wZXUVOWJ\",\"notion_æ¥å£é—®é¢˜.md\":\"DVVfPBxJ\",\"notion_æ•æ·å¹³å°é¡¹ç›®ç®¡ç†.md\":\"A6jEcN4u\",\"notion_æœåŠ¡å™¨.md\":\"BdWUUQQm\",\"notion_æœåŠ¡ç«¯æ­å»º.md\":\"DjxrgN1i\",\"notion_çˆ¶ç»„ä»¶æ¸²æŸ“å­ç»„ä»¶å†…å®¹.md\":\"BUHXXB-X\",\"notion_ç ”è¿é¡¹ç›®.md\":\"CmNbHOqi\",\"notion_ç®€å•è¯·æ±‚_é¢„æ£€è¯·æ±‚.md\":\"IqOS93MJ\",\"notion_ç±»å‹è½¬æ¢ï¼ˆtoprimitiveï¼‰.md\":\"DHKAG06B\",\"notion_ç»„ä»¶ï¼štableç§»åŠ¨ç«¯è¡¨æ ¼.md\":\"CaO8WsT0\",\"notion_ç»„ä»¶ï¼šè™šæ‹Ÿåˆ—è¡¨.md\":\"G-EBezPz\",\"notion_ç¼“å­˜.md\":\"DrV2CMDY\",\"notion_è„šæ‰‹æ¶æ­å»º.md\":\"BsorMbBP\",\"notion_è¡¨æ ¼ç»„ä»¶è‡ªåŠ¨é«˜åº¦è®¾ç½®.md\":\"CQZqjAWg\",\"notion_è®¡ç®—æœºç½‘ç»œ.md\":\"LLkqzhkZ\",\"notion_è®¾è®¡æ¨¡å¼.md\":\"6yCTtLNc\",\"notion_è¿­ä»£å™¨ã€ç”Ÿæˆå™¨.md\":\"DMtEdd-f\",\"notion_é—®é¢˜è®°å½•.md\":\"D9tptrwO\",\"notion_é˜…è¯»è®°å½•.md\":\"DcesUa5I\",\"notion_é¡¹ç›®ç®¡ç†.md\":\"C5UR38ND\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"ç‰§é£å¤•å¤§ä½¬\",\"description\":\"ä¸ªäººåšå®¢\",\"base\":\"/blog/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[],\"sidebar\":[],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/SSQLQIANBB/blog\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>